<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>前端面试2025</title>
    <link href="/hexo-blog/2025/08/19/interview/next/"/>
    <url>/hexo-blog/2025/08/19/interview/next/</url>
    
    <content type="html"><![CDATA[<blockquote><p>前言：2025年注定是一个不平凡的一年<br>很多人把面试看作一次单纯的考核，但对我来说，它更像是一场自我检验。每一次面试，都是一次与自己对话的机会。这篇文章，就记录了我在前端面试中的收获和反思。</p></blockquote><h3 id="天府市民云的外包面试"><a href="#天府市民云的外包面试" class="headerlink" title="天府市民云的外包面试"></a>天府市民云的外包面试</h3><p>JS基础相关知识的考核：</p><ol><li><p>for 循环的 break;  containue;  会跳出循环并且会打印 相关的值 注意是打印判断条件前的值</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-built_in">for</span>(let i =<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">100</span>;i++)&#123;<br>    <span class="hljs-built_in">if</span>(i&lt;=<span class="hljs-number">50</span>)&#123;<br>        break;<br>        containue;        <br>    &#125;    <br>    console<span class="hljs-selector-class">.log</span>(i) <span class="hljs-comment">// 0-50</span><br>&#125;<br><br></code></pre></td></tr></table></figure></li><li><p>Promise 打印console.log的问题</p></li></ol><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">new</span> Promise((resolve, reject) &#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-number">1</span>);<br>    resolve();<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-number">2</span>);<br>&#125;).then(() &#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-number">3</span>);<br>&#125;);<br><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-number">4</span>);<br><span class="hljs-comment">// 执行结果： 1 2 4 3</span><br></code></pre></td></tr></table></figure><ol start="3"><li><p>Vue基础问题<br>Vue如何实现类型v-model这样的双向绑定事件</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs elixir">基于<span class="hljs-title class_">Vue2</span>的版本实现是 .async<br>基于<span class="hljs-title class_">Vue3</span>的版本实现是 v-<span class="hljs-symbol">model:</span>default<br><br><br><span class="hljs-title class_">Vue2</span>的实现方式：；<br>&lt;comp <span class="hljs-symbol">:foo</span>.sync=<span class="hljs-string">&quot;bar&quot;</span>&gt;&lt;/comp&gt;  等同于 &lt;comp <span class="hljs-symbol">:foo=<span class="hljs-string">&quot;bar&quot;</span></span> <span class="hljs-variable">@update</span><span class="hljs-symbol">:foo=<span class="hljs-string">&quot;val =&gt; bar = val&quot;</span>&gt;&lt;/comp&gt;</span><br><br><span class="hljs-symbol">child:</span><br><span class="hljs-variable">$emit</span>(<span class="hljs-string">&#x27;update:foo&#x27;</span>, val)；<br><br><br><br><span class="hljs-title class_">Vue3</span>的实现方式：<br>&lt;comp v-model=<span class="hljs-string">&quot;value&quot;</span> /&gt; 等价于 &lt;comp <span class="hljs-symbol">:modelValue=<span class="hljs-string">&quot;value&quot;</span></span> <span class="hljs-variable">@update</span><span class="hljs-symbol">:modelValue=<span class="hljs-string">&quot;val=&gt; value = val&quot;</span>/&gt;</span>  默认是modelValue 但是也可以扩展<br>v-<span class="hljs-symbol">model:</span>data=<span class="hljs-string">&quot;value&quot;</span>  <span class="hljs-title class_">AND</span>  emit(<span class="hljs-string">&#x27;update:data&#x27;</span>,value);<br><br></code></pre></td></tr></table></figure></li><li><p>CDN为什么访问快？</p></li></ol><ul><li>地理位置靠近，缓存机智，负载均衡，多协议支持</li></ul><ol start="5"><li>浏览器的相关策略</li></ol><ul><li>资源加载优化，</li><li>渲染优化，</li><li>缓存策略，</li><li>安全策略-内容安全策略，通过HTTP响应头限制资源加载源，防止XSS等攻击</li><li>同源策略，限制不同源的DOM操作和资源访问，防止跨域攻击</li><li>Https加密  强制使用SSL&#x2F;TLS加密传输，保障数据安全并提升SEO排名</li></ul><ol start="6"><li>TypeScript相关问题 （主要问了些辅助函数的使用  并没有更加深入的问题）</li></ol><h2 id="薪玺熠科技"><a href="#薪玺熠科技" class="headerlink" title="薪玺熠科技"></a>薪玺熠科技</h2><ol><li>forEach如何中断循环</li></ol><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs arcade">const arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>arr.forEach(<span class="hljs-function">(<span class="hljs-params">item, index, <span class="hljs-built_in">array</span></span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">if</span> (item === <span class="hljs-number">2</span>) <span class="hljs-built_in">array</span>.<span class="hljs-built_in">length</span> = <span class="hljs-number">0</span>; <span class="hljs-comment">// 清空数组终止循环</span><br>  <span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(item); <span class="hljs-comment">// 输出 1</span><br>&#125;);<br><br></code></pre></td></tr></table></figure><ol start="2"><li>闭包用在那些地方</li></ol><ul><li>封装私有变量</li><li>创建函数工厂</li><li>回调函数和事件处理</li><li>函数柯里化</li><li>模块化开发</li><li>解决循环中的变量共享问题</li><li>记忆化</li><li>防抖和节流</li></ul><ol start="3"><li>防抖和节流的区别和应用场景</li></ol><ul><li>防抖：在事件被触发n秒后再执行回调，如果在这n秒内事件又被触发，则重新计时。</li><li>节流：在事件被触发n秒后再执行回调，如果在这n秒内事件被触发，则不会执行。</li></ul><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">防抖场景:输入搜索、resize窗口、表单验证<br>节流场景:鼠标移动、拖拽、滚动<br><br><br>事例代码：<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span><span class="hljs-params">(fn, delay)</span> &#123; <br>    let timer;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span><span class="hljs-params">(<span class="hljs-rest_arg">...args</span>)</span> &#123; <br>        clearTimeout(timer);<br>        timer = setTimeout(() =&gt; &#123;<br>            fn.apply(<span class="hljs-keyword">this</span>, args);<br>        &#125;,delay)<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">throttle</span><span class="hljs-params">(fn, delay)</span> &#123; <br>    let timer;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span><span class="hljs-params">(<span class="hljs-rest_arg">...args</span>)</span> &#123;<br>        <span class="hljs-keyword">if</span>(!timer)&#123;<br>            fn.apply(<span class="hljs-keyword">this</span>, args);<br>            timer = setTimeout(()=&gt;&#123;<br>                timer = <span class="hljs-literal">null</span>;<br>            &#125;,delay)<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="4"><li>new WeakMap 和 new Map的区别</li></ol><ul><li>WeakMap 的键必须是对象 数组  函数等等 不能使用原始的值 如字符串 数字 布尔值</li><li>Map 的键可以是任意类型包括对象、原始值、符号等。</li></ul><h2 id="滴滴外包面试"><a href="#滴滴外包面试" class="headerlink" title="滴滴外包面试"></a>滴滴外包面试</h2><ol><li>（微任务和宏任务相关）</li></ol><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-number">1</span>);<br>setTimeout(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>&#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-number">2</span>)<br>    Promise.resolve().then(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>&#123;<br>        <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-number">3</span>);<br>    &#125;)<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-number">4</span>);<br>&#125;,<span class="hljs-number">0</span>)<br><span class="hljs-keyword">new</span> Promise(<span class="hljs-function">(<span class="hljs-params">resolve</span>)=&gt;</span>&#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-number">5</span>);<br>    resolve();<br>&#125;).then(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>&#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-number">6</span>);<br>&#125;).then(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>&#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-number">7</span>);<br>&#125;)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-number">8</span>);<br><span class="hljs-comment">//  执行结果：1,5,8,6,7 2,4,3</span><br><br>let obj = &#123;<br>    <span class="hljs-attr">name</span> :<span class="hljs-string">&#x27;test&#x27;</span>,<br>    <span class="hljs-attr">sayName</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>        let self = this;<br>        <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(this.name);<br>        <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(self.name);<br>        (<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>            <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(this.name); <span class="hljs-comment">// undefined</span><br>            <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(self.name); <span class="hljs-comment">// test</span><br>        &#125;)()<br>    &#125;<br>&#125;<br>obj.sayName(); <span class="hljs-comment">// test test undefined test</span><br>const func = obj.sayName;<br>func(); <span class="hljs-comment">// undefined undefined undefined undefined</span><br></code></pre></td></tr></table></figure><ol start="2"><li>Vue相关面试题<br>Vue中父子组件 里面执行的顺序是什么？</li></ol><ul><li>父组件先执行，子组件后执行</li><li>父组件先走到 beforeMount，开始渲染子组件 → 子组件完整挂载 → 再回到父组件 mounted。（更新和销毁就同理）</li></ul><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">父：<span class="hljs-keyword">beforeCreate-created-beforeMount</span><br><span class="hljs-keyword"></span>  子：<span class="hljs-keyword">beforeCreate-created-beforeMount-mounted</span><br><span class="hljs-keyword"></span>父：mounted<br></code></pre></td></tr></table></figure><ol start="3"><li>MVC和MVVM的区别?</li></ol><ul><li>MVC-Model View  Controller</li><li>MVVM-Model View  ViewModel</li></ul><ul><li>MVC 核心是控制器 View和Model之间的联系通过Controller来管理</li><li>MVVM 核心是数据绑定- 数据驱动视图发生变化</li></ul><p>总结来说：</p><ul><li>MVC 是传统架构，核心是 Controller，用户操作需要通过 Controller 去更新 Model，再由 Controller 渲染 View。</li><li>MVVM 是改进后的模式，引入了 ViewModel，利用数据双向绑定，使 View 和 Model 自动保持同步。</li><li>MVC 适合服务端渲染和传统框架，而 MVVM 更适合现代前端框架（Vue、Angular），开发效率更高。</li></ul><p>延伸问题：那么Vue中 script这块功能属于MVVM中那一层模块？</p><ol><li><p>script 模块是 MVVM 架构中的 ViewModel 模块，它负责处理数据逻辑，并把数据传递给 View 层。</p></li><li><p>script 模块中的 data 属性是 MVVM 架构中的 Model 模块，它负责存储数据，并把数据传递给 View 层。</p></li><li><p>JS相关问题</p></li></ol><ul><li>原型和原型链？</li></ul><p>在 JavaScript 中，每个对象都有一个内部属性<br>[[Prototype]]，即 __proto__构造函数有一个 prototype 属性，实例对象的 <strong>proto</strong> 会指向构造函数的 prototype。访问对象属性时，会先在对象本身查找，如果没有，就沿着 <strong>proto</strong> 链向上查找，这条查找路径就是 原型链。原型链的尽头是 Object.prototype.<strong>proto</strong> &#x3D; null。</p><ol start="5"><li>浏览器缓存有哪些  cookie有哪些优缺点？？？</li></ol><ul><li>首先浏览器缓存：</li></ul><ul><li>强缓存（本地缓存 不会发送到服务端，直接用本地文件）   </li><li>协商缓存 (强缓存通过 Expires 或 Cache-Control 控制，直接用本地缓存；协商缓存通过 ETag 或 Last-Modified 与服务器比对，未更新则返回 304)</li></ul><ul><li>cookie的优缺点：</li></ul><ul><li>优点：兼容性强，自动携带 持久存储 可设置作用域</li><li>缺点：存储容量小，性能问题，安全隐患，操作复杂</li></ul><h2 id="壹立科技面试"><a href="#壹立科技面试" class="headerlink" title="壹立科技面试"></a>壹立科技面试</h2><ol><li><p>Vue中nextTick是什么任务？<br>微任务，兼容IE的情况下就是宏任务</p></li><li><p>React中 React.memo  和 useMemo的问题和区别？</p></li></ol><ul><li>React.memo 是一个高阶组件，用于缓存组件的渲染结果，从而避免不必要的重新渲染，适用于优化纯组件。会对props进行一个比较 来判断是否渲染</li><li>useMemo 是一个 Hook，用于缓存计算结果，它帮助避免昂贵的计算在每次渲染时重新执行，适用于性能优化，尤其是对于计算密集型的操作。</li><li>ajax 是宏任务 浏览器中得IO流都是宏任务。</li></ul><p>面试总结：</p><ol><li>其中滴滴的外包面试给我的收获挺大的，也了解到自身的一些不足 以及对面试的准备不充分的问题。</li><li>每次的面试让我清楚地看到自己的短板：不仅仅是技术上的深度，还包括面试表达和现场 coding 的稳定性。虽然没能完全发挥理想状态，但每一次都是很好的自我检验。</li></ol>]]></content>
    
    
    <categories>
      
      <category>前端面试</category>
      
    </categories>
    
    
    <tags>
      
      <tag>前端面试2025</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>前端面试</title>
    <link href="/hexo-blog/2024/08/12/interview/way/"/>
    <url>/hexo-blog/2024/08/12/interview/way/</url>
    
    <content type="html"><![CDATA[<h2 id="i-和-i"><a href="#i-和-i" class="headerlink" title="i++和 ++i"></a>i++和 ++i</h2><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs brainfuck"><span class="hljs-comment">i</span><span class="hljs-literal">++</span> <span class="hljs-comment">是先赋值在自增</span> <br><span class="hljs-literal">++</span><span class="hljs-comment">i是先自增在赋值</span><br></code></pre></td></tr></table></figure><h2 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h2><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs brainfuck"><span class="hljs-literal">+</span>   <span class="hljs-literal">-</span>    <span class="hljs-comment">*    /    %</span><span class="hljs-title">[</span><span class="hljs-comment">取模求余数</span><span class="hljs-title">]</span>   <span class="hljs-literal">++</span><span class="hljs-comment">自身加1</span>   <span class="hljs-literal">--</span><span class="hljs-comment">自身减1</span> <br></code></pre></td></tr></table></figure><a id="more"></a><h2 id="HTML5-和-CSS3的新特性"><a href="#HTML5-和-CSS3的新特性" class="headerlink" title="HTML5 和 CSS3的新特性"></a>HTML5 和 CSS3的新特性</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs stylus">HTML5:<br><span class="hljs-number">1</span>、用于绘画的canvas元素<br><span class="hljs-number">2</span>、用于媒体回放的video和audio元素<br><span class="hljs-number">3</span>、对于本地离线存储的更好的支持<br><span class="hljs-number">4</span>、新的特殊内容元素，比如artice、footer、header、nav、<span class="hljs-selector-tag">section</span><br><span class="hljs-number">5</span>、新的表单控件，比如calender、date、time、email、url、search<br>CSS3:<br><span class="hljs-number">1</span>、css3实现圆角<span class="hljs-attribute">border-radius</span>阴影box-shadow<br><span class="hljs-number">2</span>、对文字加特效<span class="hljs-attribute">text-shadow</span> 线性渐变gradient 旋转 transform<br><span class="hljs-number">3</span>、<span class="hljs-attribute">transform</span>：<br>    <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.scale</span> --&gt;缩放<br>    <span class="hljs-selector-tag">b</span>.<span class="hljs-attribute">translate</span>--&gt;移动<br>    c.skew--&gt;扭曲<br>    d.<span class="hljs-attribute">rotate</span>--&gt;旋转<br>    e.matrix--&gt;矩阵<br>    f,改变元素基点<span class="hljs-attribute">transform-origin</span><br><span class="hljs-number">4</span>、增加了更多的CSS选择器多背景的rgba<br><span class="hljs-number">5</span>、在css3中唯一引入的伪类元素是<span class="hljs-selector-pseudo">::selection</span><br><span class="hljs-number">6</span>、媒体查询，多栏布局<br><span class="hljs-number">7</span>、<span class="hljs-attribute">border-image</span><br><br><span class="hljs-number">4</span>、行内元素<br><span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">span</span> <span class="hljs-selector-tag">img</span> <span class="hljs-selector-tag">input</span> <span class="hljs-selector-tag">select</span>....<br><br><span class="hljs-number">5</span>、块级元素<br><span class="hljs-selector-tag">div</span> <span class="hljs-selector-tag">p</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">h1</span> <span class="hljs-selector-tag">h2</span>..<span class="hljs-selector-class">.ol</span> <span class="hljs-selector-tag">dl</span> <span class="hljs-selector-tag">dt</span>...<br><br>区别：<br><span class="hljs-number">1</span>、块级元素会独占一行，默认占满父级元素<br><span class="hljs-number">2</span>、行内元素<span class="hljs-attribute">width</span>、height无效<br><span class="hljs-number">3</span>、块级元素可以设置<span class="hljs-attribute">margin</span>和padding属性<br><span class="hljs-attribute">line-height</span>只影响行内元素，并不能直接应用于块级元素。<br><span class="hljs-attribute">line-height</span>具有可继承性，块级元素的子元素会继承该特性，并且在行内元素生效。<br>lin-<span class="hljs-attribute">height</span> 设置为你需要的box的大小可以实现单行文字居中。<br>只要浮动就脱离了文档流，因此父容器的背景，边框，<span class="hljs-attribute">margin</span>值都不能正常显示，因此需要清除浮动，父容器这些属性显示正常。<br>常用的清除方式：<span class="hljs-attribute">clear</span>:both; <span class="hljs-attribute">overflow</span>:auto;<br><br><span class="hljs-attribute">display</span>:inline-block什么时候会显示间隙？<br><span class="hljs-number">1</span>、有空格的时候会有间隙，解决：移除空格<br><span class="hljs-number">2</span>、<span class="hljs-attribute">margin</span>正值的时候 解决：margin使用负值<br><span class="hljs-number">3</span>、使用<span class="hljs-attribute">font-size</span>时候 解决：font-szie :<span class="hljs-number">0</span>、letter-spacing、 word-spacing<br><br><span class="hljs-number">6</span>、空元素<br>br hr <span class="hljs-selector-tag">img</span> <span class="hljs-selector-tag">input</span> meta<br></code></pre></td></tr></table></figure><h2 id="怪异盒模型-标准盒模型"><a href="#怪异盒模型-标准盒模型" class="headerlink" title="怪异盒模型&amp;&amp;标准盒模型"></a>怪异盒模型&amp;&amp;标准盒模型</h2><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs maxima">怪异盒子模型：<br>盒子总的宽度/高度 = <span class="hljs-built_in">width</span>/<span class="hljs-built_in">height</span> + margin，也就是说<span class="hljs-built_in">width</span> = 内容宽度+padding+<span class="hljs-built_in">border</span>;<br>标准盒子模型：<br>盒子总的宽度/高度 = <span class="hljs-built_in">width</span>/<span class="hljs-built_in">height</span>+padding+<span class="hljs-built_in">border</span> + margin<br><span class="hljs-built_in">box</span>-sizing:<span class="hljs-built_in">border</span>-<span class="hljs-built_in">box</span>/<span class="hljs-built_in">content</span>-<span class="hljs-built_in">box</span>[怪异盒子模型/标准盒子模型]<br></code></pre></td></tr></table></figure><h2 id="jquery的事件委托on、delegate、live之间有什么区别？"><a href="#jquery的事件委托on、delegate、live之间有什么区别？" class="headerlink" title="jquery的事件委托on、delegate、live之间有什么区别？"></a>jquery的事件委托on、delegate、live之间有什么区别？</h2><pre><code class="hljs">1.ive将事件委托给document。2.delegate可指定事件委托的对象。3.on可以指定事件委托的对象，填了跟delegate作用一致，不填写对自身注册事件。</code></pre><h2 id="页面导入样式时，link和-import有什么区别"><a href="#页面导入样式时，link和-import有什么区别" class="headerlink" title="页面导入样式时，link和@import有什么区别?"></a>页面导入样式时，link和@import有什么区别?</h2><ol><li>link属于XHTML标签，而@import完全是css提供的一种方式</li><li>@import只能加载CSS</li><li>加载顺序的差别还有兼容性的差别</li><li>@import不能用DOM控制</li><li>@import可以在css中再次引入其他的样式表</li></ol><h2 id="JS去重"><a href="#JS去重" class="headerlink" title="JS去重"></a>JS去重</h2><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs livescript">ES6:<br>    <span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">12</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]<br>    <span class="hljs-built_in">Array</span>.<span class="hljs-keyword">from</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>(arr)) OR [...<span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>(arr)]<br>    <br>es5:<br>    <span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>]<br>    <span class="hljs-keyword">let</span> arr2 =[];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;i &lt;arr.length;i++)&#123;<br>        <span class="hljs-keyword">if</span>(arr2.indexOf(arr[i]) &lt; <span class="hljs-number">0</span>)&#123;<br>            arr2.push(arr[i])<br>        &#125;<br>    &#125; <br></code></pre></td></tr></table></figure><h2 id="函数声明在调用，给数字的原型上扩展一个方法"><a href="#函数声明在调用，给数字的原型上扩展一个方法" class="headerlink" title="函数声明在调用，给数字的原型上扩展一个方法"></a>函数声明在调用，给数字的原型上扩展一个方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><br><span class="hljs-title class_">Number</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">add</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span> + data<br>&#125;<br><span class="hljs-keyword">let</span> a = <span class="hljs-number">20</span>;<br><span class="hljs-keyword">let</span> c = a.<span class="hljs-title function_">add</span>(<span class="hljs-number">30</span>) <span class="hljs-comment">// 50</span><br></code></pre></td></tr></table></figure><h2 id="闭包理解-简单理解"><a href="#闭包理解-简单理解" class="headerlink" title="闭包理解(简单理解)"></a>闭包理解(简单理解)</h2><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs scss">### 不使用let 版本<br><span class="hljs-built_in">for</span>(var i = <span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++)&#123;<br>    (function(i)&#123;<br>        <span class="hljs-built_in">setTimeout</span>(function()&#123;<br>            console<span class="hljs-selector-class">.log</span>(i)<br>        &#125;,<span class="hljs-number">1000</span>*<span class="hljs-selector-tag">i</span>)<br>    &#125;)(i)<br>&#125;<br>### 使用let 版本<br><span class="hljs-built_in">for</span>(let i = <span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++)&#123;<br>    <span class="hljs-built_in">setTimeout</span>(function()&#123;<br>        console<span class="hljs-selector-class">.log</span>(i)<br>    &#125;,<span class="hljs-number">1000</span>*<span class="hljs-selector-tag">i</span>)<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="伪类-伪元素"><a href="#伪类-伪元素" class="headerlink" title="伪类(:) &#x2F;  伪元素(::)"></a>伪类(:) &#x2F;  伪元素(::)</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs ruby">伪类<br><span class="hljs-symbol">:visited</span><br><span class="hljs-symbol">:hover</span><br><span class="hljs-symbol">:active</span><br><span class="hljs-symbol">:focus</span><br><span class="hljs-symbol">:not</span><br><span class="hljs-symbol">:nth-child-xxx</span><br>...<br><br>伪元素<br><span class="hljs-symbol">:</span><span class="hljs-symbol">:before</span><br><span class="hljs-symbol">:</span><span class="hljs-symbol">:after</span><br><span class="hljs-symbol">:</span><span class="hljs-symbol">:selection</span><br><span class="hljs-symbol">:</span><span class="hljs-symbol">:placeholder</span><br><span class="hljs-symbol">:</span><span class="hljs-symbol">:first-letter</span><br><span class="hljs-symbol">:</span><span class="hljs-symbol">:first-line</span><br></code></pre></td></tr></table></figure><h2 id="JS的基本数据类型"><a href="#JS的基本数据类型" class="headerlink" title="JS的基本数据类型"></a>JS的基本数据类型</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Boolean</span> 布尔类型<br><span class="hljs-title class_">String</span> 字符串类型<br><span class="hljs-title class_">Null</span> <br><span class="hljs-literal">undefined</span><br><span class="hljs-title class_">Symbol</span> <span class="hljs-title class_">ES6</span>新增<br><span class="hljs-title class_">Number</span> 数字类型<br><span class="hljs-title class_">BigInt</span> <span class="hljs-title class_">ES6</span>新增<br> <span class="hljs-literal">null</span>表示一个对象被定义了，但存放了空指针。<span class="hljs-literal">undefined</span>表示这个值不存在。<br>复杂类型(引用类型)<br><span class="hljs-title class_">Object</span> <span class="hljs-variable constant_">OR</span> <span class="hljs-title class_">Object</span>/<span class="hljs-title class_">Function</span> <span class="hljs-comment">//对象-函数</span><br></code></pre></td></tr></table></figure><h2 id="IIFE表达式解决闭包引起的内存泄漏"><a href="#IIFE表达式解决闭包引起的内存泄漏" class="headerlink" title="IIFE表达式解决闭包引起的内存泄漏"></a>IIFE表达式解决闭包引起的内存泄漏</h2><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs delphi">(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span><span class="hljs-comment">&#123;&#125;</span>)<span class="hljs-params">()</span> <span class="hljs-title">OR</span> <span class="hljs-params">(<span class="hljs-keyword">function</span>()</span><span class="hljs-comment">&#123;&#125;</span><span class="hljs-params">()</span>)</span><br></code></pre></td></tr></table></figure><h2 id="this指向"><a href="#this指向" class="headerlink" title="this指向"></a>this指向</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">this</span>指的是调用函数的那个对象<br><span class="hljs-keyword">this</span> 在没有运行之前不能知道代表谁;js的<span class="hljs-keyword">this</span> 指向是不确定的；和定义没有关系，和执行有关<br>执行的时候，点前面是谁，<span class="hljs-keyword">this</span> 就是谁；自执行函数里面的<span class="hljs-keyword">this</span> 代表的是 window<br>定时器书写的时候，window可以省略掉；定时器执行的时候，里面的<span class="hljs-keyword">this</span> 代表的也是 window <br><span class="hljs-keyword">this</span> 是js的一个关键字，随着函数使用场合不同，<span class="hljs-keyword">this</span> 的值会发生变化。<br>总结：<br><span class="hljs-keyword">this</span> 指的是调用函数的那个对象,如果没有被调用，则未知。<br><span class="hljs-keyword">this</span> 一般情况下：是全局对象Global。 作为方法调用，那么<span class="hljs-keyword">this</span> 就是指这个对象<br><br>注：<span class="hljs-keyword">this</span>是执行上下文中的一个属性，他指向最后一次调用这个方法的对象，在实际开发中 <span class="hljs-keyword">this</span>的指向可以通过四种调用模式来判断<br><span class="hljs-number">1.</span> 函数调用模式：<span class="hljs-keyword">this</span>指向全局对象<br><span class="hljs-number">2.</span> 方法调用模式：<span class="hljs-keyword">this</span>指向调用方法的对象<br><span class="hljs-number">3.</span> 构造函数调用模式：<span class="hljs-keyword">this</span>指向构造函数的实例对象<br><span class="hljs-number">4.</span> apply/call/bind调用模式：<span class="hljs-keyword">this</span>指向第一个参数<br></code></pre></td></tr></table></figure><h2 id="node-js使用mongoose中间键来连接MongoDB数据库的"><a href="#node-js使用mongoose中间键来连接MongoDB数据库的" class="headerlink" title="node.js使用mongoose中间键来连接MongoDB数据库的"></a>node.js使用mongoose中间键来连接MongoDB数据库的</h2><h2 id="箭头函数：-重点！！！"><a href="#箭头函数：-重点！！！" class="headerlink" title="箭头函数：(重点！！！)"></a>箭头函数：(重点！！！)</h2><ol><li>箭头函数本身是没有this和arguments的，</li><li>在箭头函数中引用this实际上是调用的是定义时的上一层作用域的this。</li><li>这里强调的是上一层作用域，是因为对象是不能形成独立的作用域的。</li></ol><h2 id="原生AJAX的写法"><a href="#原生AJAX的写法" class="headerlink" title="原生AJAX的写法"></a>原生AJAX的写法</h2><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">ajax实现跨域请求基于同源策略<br><span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();<br>xhr.open(<span class="hljs-string">&#x27;方式&#x27;</span>,<span class="hljs-string">&#x27;URL&#x27;</span>)<br>xhr.onreadystatechange = <span class="hljs-keyword">function</span><span class="hljs-params">()</span>&#123;&#125;<br>xhr.send() <span class="hljs-comment">//发送数据</span><br>xhr.readyState <span class="hljs-comment">//获取当前的AJAX引擎状态</span><br>xhr.status <span class="hljs-comment">//获取Http状态码</span><br>xhr.responseText <span class="hljs-comment">//获取响应的数据，字符串，需要parse一下</span><br></code></pre></td></tr></table></figure><h1 id="2024年06月"><a href="#2024年06月" class="headerlink" title="2024年06月"></a>2024年06月</h1><h2 id="防抖节流函数-高频事件"><a href="#防抖节流函数-高频事件" class="headerlink" title="防抖节流函数(高频事件)"></a>防抖节流函数(高频事件)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javascript">防抖：  触发高频事件后n秒后执行一次，如果n秒内再次触发，则重新计时<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">fn, delay</span>) &#123;<br>    <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">if</span> (timer) <span class="hljs-built_in">clearTimeout</span>(timer);<br>        timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>            fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>);<br>        &#125;, delay);<br>    &#125;;<br>&#125;<br><br>节流：  触发高频事件后n秒内函数只能执行一次，如果n秒内连续触发，只有一次生效<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">throttle</span>(<span class="hljs-params">fn, delay</span>) &#123;<br>    <span class="hljs-keyword">let</span> isThre = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">if</span>(!isThre)&#123;<br>            fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>);<br>            isThre = <span class="hljs-literal">true</span>;<br>            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;  <br>               <span class="hljs-keyword">return</span> isThre = <span class="hljs-literal">false</span>;  <br>             &#125;, delay);<br>        &#125; <br>    &#125;;<br>&#125;<br><br><br><br></code></pre></td></tr></table></figure><h2 id="为什么vue-react项目中要使用key，有什么作用？"><a href="#为什么vue-react项目中要使用key，有什么作用？" class="headerlink" title="为什么vue&#x2F;react项目中要使用key，有什么作用？"></a>为什么vue&#x2F;react项目中要使用key，有什么作用？</h2><p>key是给每一个vnode的唯一id  可以更依赖key更准确更快的拿到oldVnode中对应的vnode节点</p><h2 id="‘1’-’2’-’3’-map-praseInt"><a href="#‘1’-’2’-’3’-map-praseInt" class="headerlink" title="[‘1’,’2’,’3’].map(praseInt)"></a>[‘1’,’2’,’3’].map(praseInt)</h2><p>结果：log: [1,NaN,NaN]</p><h2 id="bind-call-apply区别"><a href="#bind-call-apply区别" class="headerlink" title="bind call apply区别"></a>bind call apply区别</h2><ol><li>三者都可以改变函数的this对象指向</li><li>三者第一个参数都是this的指向对象，如果没有这个参数或参数为undefined&#x2F;null，则默认指向全局window</li><li>三者都可以传参数，但是apply是数组或类数组，而call是参数列表，且apply和call是一次性传入参数，而bind可以分为多次传入</li><li>bind是返回绑定this之后的函数，apply、call则是立即执行</li></ol><h2 id="es5和es6区别"><a href="#es5和es6区别" class="headerlink" title="es5和es6区别"></a>es5和es6区别</h2><ol><li>变量声明方式不同</li><li>块级作用域</li><li>箭头函数</li><li>字符串模板</li><li>类和继承</li><li>模块化</li><li>解构赋值</li><li>Promise</li><li>新增Set&#x2F;Map&#x2F;Symbol方法等</li></ol><h2 id="详解作用域链、原型链、闭包"><a href="#详解作用域链、原型链、闭包" class="headerlink" title="详解作用域链、原型链、闭包"></a>详解作用域链、原型链、闭包</h2><ol><li>JavaScript的作用域我们可以有效访问变量或函数的区域，JS具有三种类型的作用域：全局作用域、函数作用域和块级作用域</li><li>原型链：JavaScript中每个函数都有一个prototype属性，这个属性指向函数的原型对象，原型对象也是个对象，原型对象有一个constructor属性，指向构造函数，原型对象可以添加共有属性和方法，实例对象可以访问原型对象上的属性和方法</li><li>闭包：闭包是函数和函数外部变量的引用，闭包可以访问函数外部变量，函数外部变量可以访问闭包变量</li><li>作用域链：内部函数访问外部函数的变量，采取的是链式查找的方法来决定那个结构，这种结构称之为作用域链</li></ol><h2 id="异步编程的实现方式"><a href="#异步编程的实现方式" class="headerlink" title="异步编程的实现方式"></a>异步编程的实现方式</h2><ol><li>回调函数</li><li>Promise</li><li>Generator</li><li>async&#x2F;await  是Generator和promise实现的一种自动执行的语法糖</li></ol><h2 id="相关算法"><a href="#相关算法" class="headerlink" title="相关算法"></a>相关算法</h2><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs arcade">回文字符含义：指的是正着读和倒着读都一样的字符串<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">isPalindrome</span>(<span class="hljs-params">str</span>)&#123;<br><span class="hljs-keyword">return</span> str === str.<span class="hljs-built_in">split</span>(<span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-built_in">reverse</span>().join(<span class="hljs-string">&#x27;&#x27;</span>);<br>&#125;<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(isPalindrome(<span class="hljs-string">&#x27;madam&#x27;</span>));<br><br>  <span class="hljs-number">1.</span> 实现字符串得排列组合<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">permute</span>(<span class="hljs-params">str,prefix=<span class="hljs-string">&#x27;&#x27;</span></span>)&#123;<br>    <span class="hljs-keyword">if</span>(!str) <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>;<br>    <span class="hljs-keyword">for</span>(let i=<span class="hljs-number">0</span>;i&lt;str.<span class="hljs-built_in">length</span>;i++)&#123;<br>      permute(str.<span class="hljs-built_in">slice</span>(<span class="hljs-number">0</span>,i)+str.<span class="hljs-built_in">slice</span>(i+<span class="hljs-number">1</span>),prefix+str[i]);<br>    &#125;<br>  &#125;<br>  <span class="hljs-number">2.</span>找出数组中最大的值、最小值、地k大/小的元素等<br><br>  <span class="hljs-comment">// 最大值</span><br>  const <span class="hljs-built_in">max</span> = Math.<span class="hljs-built_in">max</span>(...arr);<br>  <span class="hljs-comment">// 最小值</span><br>  const <span class="hljs-built_in">min</span> = Math.<span class="hljs-built_in">min</span>(...arr);<br>  <span class="hljs-comment">//第k大的元素</span><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">findRandMax</span>(<span class="hljs-params">arr,k</span>)&#123;<br>    const sortList = arr.<span class="hljs-built_in">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a - b);<br>    <span class="hljs-keyword">return</span> sortList[k<span class="hljs-number">-1</span>];<br>  &#125;<br><br>  <span class="hljs-number">3.</span>数组排序算法，如快速排序、归并排序<br>  <br>  <span class="hljs-comment">//快速排序算法（是一种高效的排序算法，采用分治策略来把一个序列分为较小和较大的两个子排序，然后在递归地对子序列进行排序）</span><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">quickSort</span>(<span class="hljs-params">arr</span>)&#123;<br>    <span class="hljs-keyword">if</span>(arr.<span class="hljs-built_in">length</span> &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> arr;<br><br>    const pivot =arr[<span class="hljs-number">0</span>];<br>    const <span class="hljs-built_in">left</span> = [];<br>    const <span class="hljs-built_in">right</span> = [];<br>    <span class="hljs-keyword">for</span>(let i=<span class="hljs-number">1</span>;i&lt;arr.<span class="hljs-built_in">length</span>;i++)&#123;<br>      <span class="hljs-keyword">if</span>(arr[i] &lt; pivot)&#123;<br>        <span class="hljs-built_in">left</span>.<span class="hljs-built_in">push</span>(arr[i]);<br>      &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-built_in">right</span>.<span class="hljs-built_in">push</span>(arr[i])<br>      &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> quickSort(<span class="hljs-built_in">left</span>).concat(pivot,quickSort(<span class="hljs-built_in">right</span>));<br>  &#125;<br><br>  <span class="hljs-comment">//归并排序算法(归并算法也是基于一种分治法的排序算法，他将数组分成两半，递归地排序每一半，然后将结果合并成一个有序的数组)</span><br>  const merge = <span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">left</span>,<span class="hljs-built_in">right</span></span>)=&gt;</span>&#123;<br>    let result = [],i=<span class="hljs-number">0</span>,j=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(i&lt;<span class="hljs-built_in">left</span>.<span class="hljs-built_in">length</span> &amp;&amp; j&lt;<span class="hljs-built_in">right</span>.<span class="hljs-built_in">length</span>)&#123;<br>        <span class="hljs-keyword">if</span>(<span class="hljs-built_in">left</span>[i] &lt; <span class="hljs-built_in">right</span>[j])&#123;<br>          result.<span class="hljs-built_in">push</span>(<span class="hljs-built_in">left</span>[i]);<br>          i++;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>          result.<span class="hljs-built_in">push</span>(<span class="hljs-built_in">right</span>[j]);<br>          j++;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> result.concat(<span class="hljs-built_in">left</span>.<span class="hljs-built_in">slice</span>(i)).concat(<span class="hljs-built_in">right</span>.<span class="hljs-built_in">slice</span>(j));<br><br>  &#125;<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">mergeSort</span>(<span class="hljs-params">arr</span>)&#123;<br>    <span class="hljs-keyword">if</span>(arr.<span class="hljs-built_in">length</span> &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> arr;<br>    const <span class="hljs-built_in">mid</span> = Math.<span class="hljs-built_in">floor</span>(arr.<span class="hljs-built_in">length</span> / <span class="hljs-number">2</span>);<br>    const <span class="hljs-built_in">left</span> = arr.<span class="hljs-built_in">slice</span>(<span class="hljs-number">0</span>,<span class="hljs-built_in">mid</span>);<br>    const <span class="hljs-built_in">right</span> =arr.<span class="hljs-built_in">slice</span>(<span class="hljs-built_in">mid</span>);<br><br>    <span class="hljs-keyword">return</span> merge(mergeSort(<span class="hljs-built_in">left</span>),mergeSort(<span class="hljs-built_in">right</span>));<br>  &#125;  <br></code></pre></td></tr></table></figure><h1 id="成都-公司面试笔试题相关内容集合"><a href="#成都-公司面试笔试题相关内容集合" class="headerlink" title="成都-公司面试笔试题相关内容集合"></a>成都-公司面试笔试题相关内容集合</h1><ol><li>用vue写一个todolist（vue2&#x2F;vue3均行）<br><a href="https://3417.github.io/todo-project/">TODOLIST链接地址&gt;&gt;</a></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-number">2.</span> 封装一个类实现自增<br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">addCount</span> &#123;<br>        <span class="hljs-title function_">constructor</span>(<span class="hljs-params">count=<span class="hljs-number">0</span></span>)&#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> = count;<br>        &#125;<br>        <span class="hljs-title function_">getCount</span>(<span class="hljs-params"></span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>;<br>        &#125;<br>        <span class="hljs-title function_">addCount</span>(<span class="hljs-params"></span>)&#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">let</span> result = <span class="hljs-keyword">new</span> <span class="hljs-title function_">addCount</span>();   <br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result.<span class="hljs-title function_">addCount</span>())<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result.<span class="hljs-title function_">getCount</span>()) <br><span class="hljs-number">3.</span> 根据字符串数组的长度排序，如果长度相同就按照acsll码排序<br><br><span class="hljs-keyword">const</span> strings = [<span class="hljs-string">&quot;banana&quot;</span>, <span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;pear&quot;</span>, <span class="hljs-string">&quot;kiwi&quot;</span>, <span class="hljs-string">&quot;cherry&quot;</span>, <span class="hljs-string">&quot;fig&quot;</span>];<br><br><span class="hljs-comment">// 使用 sort 方法和自定义的比较函数</span><br>strings.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// 首先比较字符串长度</span><br>    <span class="hljs-keyword">const</span> lengthDifference = a.<span class="hljs-property">length</span> - b.<span class="hljs-property">length</span>;<br>    <span class="hljs-keyword">if</span> (lengthDifference !== <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">return</span> lengthDifference;<br>    &#125;<br><br>    <span class="hljs-comment">// 如果长度相同，则按照 ASCII 码排序</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; a.<span class="hljs-property">length</span>; i++) &#123;<br>        <span class="hljs-keyword">if</span> (a[i] !== b[i]) &#123;<br>            <span class="hljs-keyword">return</span> a.<span class="hljs-title function_">charCodeAt</span>(i) - b.<span class="hljs-title function_">charCodeAt</span>(i);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// 如果完全相同，则返回 0</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(strings);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>前端面试</category>
      
    </categories>
    
    
    <tags>
      
      <tag>前端面试</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JS加减乘除精度丢失问题</title>
    <link href="/hexo-blog/2022/05/25/javascript/bignumber/"/>
    <url>/hexo-blog/2022/05/25/javascript/bignumber/</url>
    
    <content type="html"><![CDATA[<h2 id="JS-加减乘除精度丢失处理（来源：博客园大佬）"><a href="#JS-加减乘除精度丢失处理（来源：博客园大佬）" class="headerlink" title="JS 加减乘除精度丢失处理（来源：博客园大佬）"></a>JS 加减乘除精度丢失处理（来源：博客园大佬）</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs stata">export <span class="hljs-keyword">const</span> calc = &#123;<br>    &lt;!-- 加法函数(<span class="hljs-keyword">d</span>:保留小数的位数) --&gt;<br>    Add(arg1,arg2)&#123;<br>        arg1 = arg1.<span class="hljs-keyword">toString</span>(),arg2 = arg2.<span class="hljs-keyword">toString</span>();<br>        let arg1Arr = arg1.<span class="hljs-keyword">split</span>(<span class="hljs-string">&quot;.),arg2Arr = arg2.split(&quot;</span>.<span class="hljs-string">&quot;),d1 = arg1Arr.length == 2 ? argArr[1] : &quot;</span>&quot;,d2 = arg2Arr.length == 2? arg2Arr[1] : &#x27;&#x27;;<br>        let maxlen = Math.<span class="hljs-built_in">max</span>(d1.length,d2.length);<br>        let <span class="hljs-keyword">m</span> = Math.pow(10,maxLen);<br>        let result = Number(((arg1 *<span class="hljs-keyword">m</span>+arg2*<span class="hljs-keyword">m</span>)/<span class="hljs-keyword">m</span>).toFixed(maxLen));<br>        let <span class="hljs-keyword">d</span> = arguments[2];<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> <span class="hljs-keyword">d</span> === <span class="hljs-string">&quot;number&quot;</span> ? Number((result).toFixed(<span class="hljs-keyword">d</span>)) : result;<br>    &#125;<br>    &lt;!-- 减法函数 --&gt;<br>    Sub(arg1,arg2)&#123;<br>        <span class="hljs-keyword">return</span> this.Add(arg1,-Number(arg2),arguments[2])<br>    &#125;<br>    &lt;!-- 乘法函数 --&gt;<br>    Mul(arg1,arg2)&#123;<br>      let r1 = arg1.<span class="hljs-keyword">toString</span>(), r2 = arg2.<span class="hljs-keyword">toString</span>(), <span class="hljs-keyword">m</span>, resultVal, <span class="hljs-keyword">d</span> = arguments[2];<br>      <span class="hljs-keyword">m</span> = (r1.<span class="hljs-keyword">split</span>(<span class="hljs-string">&quot;.&quot;</span>)[1] ? r1.<span class="hljs-keyword">split</span>(<span class="hljs-string">&quot;.&quot;</span>)[1].length : 0) + (r2.<span class="hljs-keyword">split</span>(<span class="hljs-string">&quot;.&quot;</span>)[1] ? r2.<span class="hljs-keyword">split</span>(<span class="hljs-string">&quot;.&quot;</span>)[1].length : 0);<br>      resultVal = Number(r1.<span class="hljs-keyword">replace</span>(<span class="hljs-string">&quot;.&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)) * Number(r2.<span class="hljs-keyword">replace</span>(<span class="hljs-string">&quot;.&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)) / Math.pow(10, <span class="hljs-keyword">m</span>);<br>      <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> <span class="hljs-keyword">d</span> !== <span class="hljs-string">&quot;number&quot;</span> ? Number(resultVal) : Number(resultVal.toFixed(parseInt(<span class="hljs-keyword">d</span>)));<br>    &#125;<br>    &lt;!-- 除法函数 --&gt;<br>    Div(arg1,arg2)&#123;<br>      let r1 = arg1.<span class="hljs-keyword">toString</span>(), r2 = arg2.<span class="hljs-keyword">toString</span>(), <span class="hljs-keyword">m</span>, resultVal, <span class="hljs-keyword">d</span> = arguments[2];<br>      <span class="hljs-keyword">m</span> = (r2.<span class="hljs-keyword">split</span>(<span class="hljs-string">&quot;.&quot;</span>)[1] ? r2.<span class="hljs-keyword">split</span>(<span class="hljs-string">&quot;.&quot;</span>)[1].length : 0) - (r1.<span class="hljs-keyword">split</span>(<span class="hljs-string">&quot;.&quot;</span>)[1] ? r1.<span class="hljs-keyword">split</span>(<span class="hljs-string">&quot;.&quot;</span>)[1].length : 0);<br>      resultVal = Number(r1.<span class="hljs-keyword">replace</span>(<span class="hljs-string">&quot;.&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)) / Number(r2.<span class="hljs-keyword">replace</span>(<span class="hljs-string">&quot;.&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)) * Math.pow(10, <span class="hljs-keyword">m</span>);<br>      <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> <span class="hljs-keyword">d</span> !== <span class="hljs-string">&quot;number&quot;</span> ? Number(resultVal) : Number(resultVal.toFixed(parseInt(<span class="hljs-keyword">d</span>)));<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//使用</span><br>calc.add(arg1,arg2,<span class="hljs-keyword">d</span>)<br>OR<br>calc.add(arg1,arg2)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>JavaScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>前端排序</title>
    <link href="/hexo-blog/2022/02/22/javascript/sortJs/"/>
    <url>/hexo-blog/2022/02/22/javascript/sortJs/</url>
    
    <content type="html"><![CDATA[<h2 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h2><p>依次比较相邻的两个元素，如果后一个小于前一个，则交换，这样从头到尾一次，就将最大的放到了末尾</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">bubbleSort</span>(<span class="hljs-params">arr</span>)&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;arr.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>;i++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> j=<span class="hljs-number">0</span>;j&lt;arr.<span class="hljs-property">length</span>;j++)&#123;<br>            <span class="hljs-keyword">if</span>(arr[j] &lt; arr[j+<span class="hljs-number">1</span>])&#123; <span class="hljs-comment">//此处控制是否升序和降序</span><br>                <span class="hljs-keyword">let</span> temp = arr[j+<span class="hljs-number">1</span>];<br>                arr[j+<span class="hljs-number">1</span>] = arr[j];<br>                arr[j] = templ;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> arr;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">selectSort</span>(<span class="hljs-params">arr</span>)&#123;<br>    <span class="hljs-keyword">let</span> len = arr.<span class="hljs-property">length</span>;<br>    <span class="hljs-keyword">let</span> minIndex,templ;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;len-<span class="hljs-number">1</span>;i++)&#123;<br>        minIndex = i;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> j=i+<span class="hljs-number">1</span>;j&lt;len;j++)&#123;<br>            <span class="hljs-keyword">if</span>(arr[j] &lt; arr[minIndex])&#123; <span class="hljs-comment">//控制升序和降序</span><br>                minIndex = j;<br>            &#125;<br>        &#125;<br>        templ = arr[i];<br>        arr[i] = arr[minIndex];<br>        arr[minIndex] = templ;<br>    &#125;<br>    <span class="hljs-keyword">return</span> arr;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">function</span> insertSort(arr)&#123;<br>    let len = arr.length;<br>    let preIndex,<span class="hljs-keyword">current</span>;<br>    <span class="hljs-keyword">for</span>(let i=<span class="hljs-number">1</span>;i&lt;len;i++)&#123;<br>        preIndex = i <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">current</span> = arr[i];<br>        <span class="hljs-keyword">while</span>(preIndex &gt;= <span class="hljs-number">0</span> &amp;&amp; arr[preIndex] &gt; <span class="hljs-keyword">current</span>)&#123;  //大于<span class="hljs-keyword">current</span>为升序 小于<span class="hljs-keyword">current</span>为降序<br>            arr[preIndex+<span class="hljs-number">1</span>] = arr[preIndex];<br>            preIndex<span class="hljs-comment">--;</span><br>        &#125;<br>        arr[preIndex+<span class="hljs-number">1</span>] = <span class="hljs-keyword">current</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> arr;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>JavaScript</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>发布订阅</title>
    <link href="/hexo-blog/2022/02/21/javascript/EventEmitter/"/>
    <url>/hexo-blog/2022/02/21/javascript/EventEmitter/</url>
    
    <content type="html"><![CDATA[<h2 id="发布订阅模式"><a href="#发布订阅模式" class="headerlink" title="发布订阅模式"></a>发布订阅模式</h2><p>通过 on 方法注册事件，trigger 方法触发事件，来达到事件之间的松散解耦，并且额外添加了 once 和 off 辅助函数用于注册只触发一次的事件以及注销事件.（相关知识网站总结）</p><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//定义</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">EventEmitter</span> &#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span> = &#123;&#125;<br>    &#125;<br>    <br>    <span class="hljs-title function_">on</span>(<span class="hljs-params">name,fn</span>)&#123;<br>        <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>[name])&#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>[name].<span class="hljs-title function_">push</span>(fn)<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>[name] = [fn]<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-title function_">off</span>(<span class="hljs-params">name,fn</span>)&#123;<br>        <span class="hljs-keyword">const</span> tasks = <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>[name]<br>        <span class="hljs-keyword">if</span>(tasks)&#123;<br>            <span class="hljs-keyword">const</span> index = tasks.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function">(<span class="hljs-params">f</span>)=&gt;</span>f === fn || f.<span class="hljs-property">callback</span> === fn);<br>            <span class="hljs-keyword">if</span>(index &gt;=<span class="hljs-number">0</span>)&#123;<br>                tasks.<span class="hljs-title function_">splice</span>(index,<span class="hljs-number">1</span>)<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-title function_">emit</span>(<span class="hljs-params">name,once = <span class="hljs-literal">false</span></span>)&#123;<br>        <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>[name])&#123;<br>            <span class="hljs-keyword">const</span> tasks = <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>[name].<span class="hljs-title function_">slice</span>()<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> fn <span class="hljs-keyword">of</span> tasks)&#123;<br>                <span class="hljs-title function_">fn</span>()<br>            &#125;<br>            <span class="hljs-keyword">if</span>(once)&#123;<br>                <span class="hljs-keyword">delete</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>[name]<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//使用</span><br><span class="hljs-keyword">const</span> eventBus = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EventEmitter</span>();<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">task1</span> = (<span class="hljs-params"></span>)=&gt;&#123;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;task1&#x27;</span>)&#125;<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">task2</span> = (<span class="hljs-params"></span>)=&gt;&#123;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;task2&#x27;</span>)&#125;<br><br>eventBus.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;task&#x27;</span>,task1);<br>eventBus.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;task&#x27;</span>,task2);<br>eventBus.<span class="hljs-title function_">off</span>(<span class="hljs-string">&#x27;task&#x27;</span>,task1);<br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>    eventBus.<span class="hljs-title function_">emit</span>(<span class="hljs-string">&#x27;task&#x27;</span>);<br>&#125;,<span class="hljs-number">1000</span>)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>JavaScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>eventEmitter</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>遇到的问题记录本</title>
    <link href="/hexo-blog/2021/12/22/question/"/>
    <url>/hexo-blog/2021/12/22/question/</url>
    
    <content type="html"><![CDATA[<h2 id="项目中或者实践中遇到的问题点解析"><a href="#项目中或者实践中遇到的问题点解析" class="headerlink" title="项目中或者实践中遇到的问题点解析"></a>项目中或者实践中遇到的问题点解析</h2><a id="more"></a><h2 id="iframe问题集合"><a href="#iframe问题集合" class="headerlink" title="iframe问题集合"></a>iframe问题集合</h2><ol><li>iframe的src可以当作get请求  传递参数  获取后台返回的html</li><li>iframe只有onload的时候才会使用postMessage</li><li>iframe onload 获取DOM会报跨域的问题</li></ol><h2 id="相关正则"><a href="#相关正则" class="headerlink" title="相关正则"></a>相关正则</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//正则替换多个连续的字符为一个字符</span><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">uniq</span> = (<span class="hljs-params">str</span>) =&gt;&#123;<br>    <span class="hljs-keyword">return</span> str.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/(\w)\1+/g</span>,<span class="hljs-string">&#x27;$1&#x27;</span>)<br>&#125;<br><br><span class="hljs-comment">//正则匹配某个字符之前(如%之前)</span><br>/^[^%]+\s?/<br><br><span class="hljs-comment">//必须包含数字大小写字母和特殊字符，长度为8-30位</span><br><span class="hljs-regexp">/(?=.*[A-Z].*)(?=.*[a-z].*)(?=.*\d.*)(?=.*[~!@#$%^&amp;*]).&#123;8,30&#125;/</span><br><span class="hljs-regexp">/(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[~!@#$%^&amp;*]).&#123;8,30&#125;/</span><br><br><span class="hljs-comment">//千分位正则兼容小数点</span><br><span class="hljs-regexp">/(?&lt;=\b(?&lt;!\.)\d*)\B(?=(\d&#123;3&#125;)+(?=\b))/g</span><br><span class="hljs-regexp">/\B(?=(\d&#123;3&#125;)+(?=\b))(?&lt;=\b(?&lt;!\.)\d*)/g</span><br><br><span class="hljs-comment">// 只允许输入数字、字符及符号（特殊符号除外），至少包含数字和字母，最少6个字符，不超过20字符；</span><br><span class="hljs-regexp">/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]&#123;6,20&#125;$/</span>; <br><span class="hljs-comment">//匹配包含至少一个字母</span><br>(?=.*[A-<span class="hljs-title class_">Za</span>-z])(?=.*\d)[A-<span class="hljs-title class_">Za</span>-z\d]<br><br><span class="hljs-comment">//匹配数字和小数,只有一个小数点</span><br>/^\d+$|^\d+[.]?\d+$/<br><br><span class="hljs-comment">//限制只能输入七位整数两位小数（可自己拓展）</span><br><span class="hljs-regexp">/(^\d&#123;1,7&#125;$)|(^\d&#123;1,7&#125;?\.\d&#123;1,2&#125;$)/</span><br><br><span class="hljs-comment">//只能输入症整数</span><br><span class="hljs-regexp">/^[1-9]\d*$/</span><br><br><span class="hljs-comment">//JS实现手机号码中间为星号</span><br>str.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/(\d&#123;3&#125;)\d&#123;4&#125;(\d&#123;4&#125;)/</span>,<span class="hljs-string">&#x27;$1****$2&#x27;</span>)<br><br><span class="hljs-comment">//替换</span><br><span class="hljs-string">&#x27;A2&#x27;</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/([A-z]+)(\d+)/g</span>, <span class="hljs-function">(<span class="hljs-params">_, $1, $2</span>) =&gt;</span> $1.<span class="hljs-title function_">repeat</span>($2)) <span class="hljs-comment">//AA</span><br><br><span class="hljs-comment">//正则去除字符串后面的时分秒</span><br><span class="hljs-keyword">var</span> date = <span class="hljs-string">&quot;2018-10-08 00:00:00&quot;</span>;<br><span class="hljs-keyword">var</span> newDate=<span class="hljs-regexp">/\d&#123;4&#125;-\d&#123;1,2&#125;-\d&#123;1,2&#125;/g</span>.<span class="hljs-title function_">exec</span>(date)<br></code></pre></td></tr></table></figure><p>…(待续)</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>微信小程序爬坑记录</title>
    <link href="/hexo-blog/2021/12/22/weixin/wx-question/"/>
    <url>/hexo-blog/2021/12/22/weixin/wx-question/</url>
    
    <content type="html"><![CDATA[<h2 id="小程序在项目遇到的问题"><a href="#小程序在项目遇到的问题" class="headerlink" title="小程序在项目遇到的问题"></a>小程序在项目遇到的问题</h2><a id="more"></a><ol><li>IOS 启动白屏的原因</li></ol><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-string">?&lt;</span>=、<span class="hljs-string">?&lt;</span>!、<span class="hljs-string">?!</span>、<span class="hljs-string">?=</span>  相关正则使用会导致该问题<br>使用相关的<span class="hljs-variable constant_">ES7</span>语法<br></code></pre></td></tr></table></figure><ol start="2"><li><p>滚动穿透</p><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml"><span class="hljs-comment">&lt;!-- page-meta 只能是页面内的第一个节点 --&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">page-meta</span> <span class="hljs-attr">page-style</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">show</span> ? <span class="hljs-string">&#x27;overflow: hidden;&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span> &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> /&gt;</span></span><br></code></pre></td></tr></table></figure></li><li><p>小程序原生input textarea 层级过高</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">弹层弹出的时候  将<span class="hljs-selector-tag">input</span> 或 <span class="hljs-selector-tag">textarea</span>用view 或者<span class="hljs-selector-tag">text</span>替换  可以避免这个问题<br></code></pre></td></tr></table></figure></li></ol>]]></content>
    
    
    <categories>
      
      <category>weixin</category>
      
    </categories>
    
    
    <tags>
      
      <tag>weixin</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>小程序全局拦截</title>
    <link href="/hexo-blog/2021/12/22/weixin/wxhttp/"/>
    <url>/hexo-blog/2021/12/22/weixin/wxhttp/</url>
    
    <content type="html"><![CDATA[<h2 id="小程序拦截器"><a href="#小程序拦截器" class="headerlink" title="小程序拦截器"></a>小程序拦截器</h2><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; apiUrl &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./config.js&#x27;</span>; <span class="hljs-comment">//项目配置的baseUrl</span><br><span class="hljs-keyword">const</span> header = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-literal">null</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;header=&gt;&#x27;</span>, header)<br><span class="hljs-keyword">let</span> promiseUnsualQueue = [];  <span class="hljs-comment">//token失效缓存当前请求</span><br><span class="hljs-keyword">let</span> isRefresh = <span class="hljs-literal">true</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">addQue</span>(<span class="hljs-params">callBack</span>) &#123;<br>    promiseUnsualQueue.<span class="hljs-title function_">push</span>(callBack);<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">implementQueue</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">if</span> (promiseUnsualQueue.<span class="hljs-property">length</span>) &#123;<br>        promiseUnsualQueue.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">params</span>) =&gt;</span> <span class="hljs-title function_">request</span>(param[<span class="hljs-number">0</span>], param[<span class="hljs-number">1</span>], param[<span class="hljs-number">2</span>]))<br>        promiseUnsualQueue = [];<br>        <span class="hljs-keyword">let</span> page = <span class="hljs-title function_">getCurrentPages</span>().<span class="hljs-title function_">pop</span>() <span class="hljs-comment">//获取当前的页面实例</span><br>        <span class="hljs-keyword">if</span> (page == <span class="hljs-literal">undefined</span> || page == <span class="hljs-literal">null</span>) &#123; <span class="hljs-keyword">return</span> &#125;;<br>        page.<span class="hljs-title function_">onload</span>();<br>        page.<span class="hljs-title function_">onshow</span>();<br>        isRefresh = <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">request</span>(<span class="hljs-params">method, url, params, isShowMsg = <span class="hljs-literal">true</span></span>) &#123;<br>    wx.<span class="hljs-title function_">showLoading</span>(&#123;<br>        <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;加载中&#x27;</span>,<br>        <span class="hljs-attr">mask</span>: <span class="hljs-string">&#x27;true&#x27;</span><br>    &#125;)<br>    <span class="hljs-keyword">const</span> &#123; accessToken &#125; = wx.<span class="hljs-title function_">getStorageSync</span>(<span class="hljs-string">&#x27;TOKEN&#x27;</span>) <span class="hljs-comment">//获取相关用户的token（具项目而定）</span><br>    <span class="hljs-keyword">if</span> (accessToken) &#123;<br>        <span class="hljs-title function_">setHeader</span>(accessToken);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>        wx.<span class="hljs-title function_">request</span>(&#123;<br>            <span class="hljs-attr">url</span>: <span class="hljs-string">`<span class="hljs-subst">$&#123;apiUrl&#125;</span><span class="hljs-subst">$&#123;url&#125;</span>`</span>,<br>            header,<br>            method,<br>            <span class="hljs-attr">data</span>: params,<br>            <span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">v</span>) &#123;<br>                wx.<span class="hljs-title function_">hideLoading</span>();<br>                <span class="hljs-keyword">switch</span> (v.<span class="hljs-property">statusCode</span>) &#123;<br>                    <span class="hljs-keyword">case</span> <span class="hljs-number">401</span>:<br>                        <br>                        <span class="hljs-keyword">break</span>;<br>                    <span class="hljs-keyword">case</span> <span class="hljs-number">712</span>: <span class="hljs-comment">//token失效，重新登录授权</span><br>                        <span class="hljs-title function_">addQue</span>([method, url, params]) <span class="hljs-comment">//添加到队列</span><br>                        <span class="hljs-keyword">if</span> (isRefresh) &#123;<br>                            <span class="hljs-title function_">wxLogin</span>();<br>                        &#125;<br>                        isRefresh = <span class="hljs-literal">false</span>;<br>                        <span class="hljs-keyword">break</span>;<br>                    <span class="hljs-keyword">case</span> <span class="hljs-number">9999</span>:<br>                        <span class="hljs-comment">//后台接口报错的状态码</span><br>                        <span class="hljs-title function_">reject</span>(v);<br>                        <span class="hljs-keyword">if</span> (isShowMsg) &#123;<br>                            wx.<span class="hljs-title function_">showToast</span>(&#123;<br>                                <span class="hljs-attr">title</span>: res.<span class="hljs-property">msg</span>,<br>                                <span class="hljs-attr">icon</span>: <span class="hljs-string">&#x27;none&#x27;</span>,<br>                                <span class="hljs-attr">duration</span>: <span class="hljs-number">2000</span><br>                            &#125;)<br>                        &#125;    <br>                    <span class="hljs-keyword">default</span><br>                         <span class="hljs-title function_">resolve</span>(v);<br>                        <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;,<br>            <span class="hljs-attr">fail</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">_r</span>) &#123;<br>                wx.<span class="hljs-title function_">hideLoading</span>();<br>                wx.<span class="hljs-title function_">showToast</span>(&#123;<br>                    <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;请求出错&#x27;</span>,<br>                    <span class="hljs-attr">icon</span>: <span class="hljs-string">&#x27;none&#x27;</span>,<br>                    <span class="hljs-attr">duration</span>: <span class="hljs-number">2000</span><br>                &#125;)<br>                <span class="hljs-title function_">reject</span>(_r);<br>            &#125;<br>        &#125;)<br>    &#125;)<br>&#125;<br><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">wxLogin</span>(<span class="hljs-params"></span>)&#123;<br>    wx.<span class="hljs-title function_">setStorageSync</span>(<span class="hljs-string">&#x27;xxx&#x27;</span>,<span class="hljs-number">0</span>)  <span class="hljs-comment">//设置相关的凭证状态</span><br>    wx.<span class="hljs-title function_">login</span>(&#123;<br>        <span class="hljs-attr">success</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>)&#123;<br>            <span class="hljs-keyword">if</span>(res.<span class="hljs-property">code</span>)&#123;<br>                <span class="hljs-keyword">let</span> params = &#123;<br>                    <span class="hljs-comment">//后台需要的参数</span><br>                &#125;<br>            &#125;<br>            wx.<span class="hljs-title function_">request</span>(&#123;<br>                <span class="hljs-attr">url</span>:<span class="hljs-string">`<span class="hljs-subst">$&#123;apiUrl&#125;</span>/xxxx/xxxx`</span>,  <span class="hljs-comment">//后台给的登录接口</span><br>                <span class="hljs-attr">header</span>:&#123;&#125;,<br>                <span class="hljs-attr">method</span>:<span class="hljs-string">&#x27;POST/GET&#x27;</span>,<br>                <span class="hljs-attr">data</span>:params,<br>                <span class="hljs-attr">success</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>)&#123;<br>                    <span class="hljs-comment">//登录后的相关逻辑</span><br>                    <span class="hljs-title function_">setHeader</span>(res.<span class="hljs-property">accessToken</span>) <span class="hljs-comment">//重新设置header</span><br>                    wx.<span class="hljs-title function_">setStorageSync</span>(<span class="hljs-string">&#x27;TOKEN&#x27;</span>,token) <span class="hljs-comment">//设置相关请求数据</span><br>                    <span class="hljs-title function_">implementQueue</span>() <span class="hljs-comment">//执行之前缓存的请求</span><br>                &#125;<br>            &#125;)<br>        &#125;<br>    &#125;)<br>&#125;<br><br><span class="hljs-comment">// 设置header</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">setHeader</span>(<span class="hljs-params">token</span>)&#123;<br>    header[<span class="hljs-string">&#x27;cookie&#x27;</span>] = <span class="hljs-string">&#x27;TOKEN=&#x27;</span>+token<br>&#125;<br><br><span class="hljs-keyword">export</span> &#123;<br>    setHeader,<br>    request<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>weixin</category>
      
    </categories>
    
    
    <tags>
      
      <tag>weixin</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Electron</title>
    <link href="/hexo-blog/2021/12/03/electron/start/"/>
    <url>/hexo-blog/2021/12/03/electron/start/</url>
    
    <content type="html"><![CDATA[<h2 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h2><p>Electron是一个使用 JavaScript、HTML 和 CSS 构建桌面应用程序的框架。 嵌入 Chromium 和 Node.js 到 二进制的 Electron 允许您保持一个 JavaScript 代码代码库并创建 在Windows上运行的跨平台应用 macOS和Linux——不需要本地开发经验</p><a id="more"></a><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ol><li>基于官网提供的安装方式<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs 1c"><span class="hljs-comment">//初始化(文件夹已经创建好)</span><br><span class="hljs-meta"># npm init</span><br><span class="hljs-meta"># npm install --save-dev electron</span><br><span class="hljs-comment">// 添加启动命令行</span><br>&#123;<br>    <span class="hljs-string">&quot;script&quot;</span><span class="hljs-punctuation">:</span>&#123;<br>        <span class="hljs-string">&quot;start&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;electron .&quot;</span><br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//执行启动</span><br><span class="hljs-meta"># npm start</span><br></code></pre></td></tr></table></figure></li><li><a href="https://nklayman.github.io/vue-cli-plugin-electron-builder/guide/">vue版本的electron安装</a><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># VueCli版本为3.x以上</span><br>1、安装：vue add electron-builder<br>2、启动：npm/yarn electron:serve[可自配]<br>3、打包：npm/yarn electron:build[可自配]<br></code></pre></td></tr></table></figure></li></ol><h2 id="设置electron淘宝镜像"><a href="#设置electron淘宝镜像" class="headerlink" title="设置electron淘宝镜像"></a>设置electron淘宝镜像</h2><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">npm config set ELECTRON_MIRROR https:<span class="hljs-comment">//npm.taobao.org/mirrors/electron/ </span><br></code></pre></td></tr></table></figure><h2 id="文件初始化事例"><a href="#文件初始化事例" class="headerlink" title="文件初始化事例"></a>文件初始化事例</h2><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-comment">&lt;!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP --&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Security-Policy&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;default-src &#x27;self&#x27;; script-src &#x27;self&#x27;&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-Content-Security-Policy&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;default-src &#x27;self&#x27;; script-src &#x27;self&#x27;&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Hello World!<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello World!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    We are using Node.js <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;node-version&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>,</span><br><span class="language-xml">    Chromium <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;chrome-version&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>,</span><br><span class="language-xml">    and Electron <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;electron-version&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>.</span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">-------------------------</span><br><span class="language-xml"></span><br><span class="language-xml">//index.js</span><br><span class="language-xml">const </span><span class="hljs-template-variable">&#123; app, BrowserWindow &#125;</span><span class="language-xml"> = require(&#x27;electron&#x27;)</span><br><span class="language-xml">function createWindow () </span><span class="hljs-template-variable">&#123;</span><br><span class="hljs-template-variable">  const win = new BrowserWindow(&#123;</span><br><span class="hljs-template-variable">    width: 800,</span><br><span class="hljs-template-variable">    height: 600</span><br><span class="hljs-template-variable">  &#125;</span><span class="language-xml">)</span><br><span class="language-xml"></span><br><span class="language-xml">  win.loadFile(&#x27;index.html&#x27;)</span><br><span class="language-xml">&#125;</span><br><span class="language-xml">app.whenReady().then(() =&gt; </span><span class="hljs-template-variable">&#123;</span><br><span class="hljs-template-variable">  createWindow()</span><br><span class="hljs-template-variable">&#125;</span><span class="language-xml">)</span><br><span class="language-xml"></span><br></code></pre></td></tr></table></figure><h2 id="打包electron会出现下载包非常慢的情况-cmd翻墙可忽视"><a href="#打包electron会出现下载包非常慢的情况-cmd翻墙可忽视" class="headerlink" title="打包electron会出现下载包非常慢的情况(cmd翻墙可忽视)"></a>打包electron会出现下载包非常慢的情况(cmd翻墙可忽视)</h2><ol><li>在C:\Users\xxxx\AppData\Local\electron-builder\Cache里面新建nsis和winCodeSign文件夹存放从github下载后解压的文件</li><li>链接路径为执行electron打包时给的路径</li></ol><h4 id="electron相关配置"><a href="#electron相关配置" class="headerlink" title="electron相关配置"></a><a href="https://blog.yasking.org/a/zh-install-electron-development.html">electron相关配置</a></h4>]]></content>
    
    
    <categories>
      
      <category>electron</category>
      
    </categories>
    
    
    <tags>
      
      <tag>electron</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vue.observable</title>
    <link href="/hexo-blog/2021/11/15/vue/observable/"/>
    <url>/hexo-blog/2021/11/15/vue/observable/</url>
    
    <content type="html"><![CDATA[<h2 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h2><blockquote><p>让一个对象可响应。Vue 内部会用它来处理 data 函数返回的对象。<br>返回的对象可以直接用于渲染函数和计算属性内，并且会在发生变更时触发相应的更新。也可以作为最小化的跨组件状态存储器，用于简单的场景。</p></blockquote><a id="more"></a><h2 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> store = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">observable</span>(&#123;<br>    <span class="hljs-attr">count</span>:<span class="hljs-number">0</span>,<br>    xxx...<br>&#125;)<br><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> mutations = &#123;<br>    <span class="hljs-title function_">fnMethods</span>(<span class="hljs-params">props</span>)&#123;<br>        store.<span class="hljs-property">count</span> = props;<br>    &#125;,<br>    xxx...<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs clean"><span class="hljs-comment">//引入组件</span><br><span class="hljs-keyword">import</span> &#123;store,mutations&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/文件夹地址&#x27;</span>;<br><span class="hljs-comment">//computed 里面显示store里面定义的数据</span><br><span class="hljs-comment">//methods里面执行mutations定义的方法</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>原生微信小程序</title>
    <link href="/hexo-blog/2021/11/10/weixin/weixin/"/>
    <url>/hexo-blog/2021/11/10/weixin/weixin/</url>
    
    <content type="html"><![CDATA[<h2 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/devtools.html">初始化</a></h2><ol><li>访问微信开发者的网站下载微信开发工具，初始化小程序。</li><li>小程序的项目结构包含了WXML,WXSS,JSON,JS等相关文件</li></ol><a id="more"></a><h2 id="项目结构解析"><a href="#项目结构解析" class="headerlink" title="项目结构解析"></a>项目结构解析</h2><ol><li>WXML—类似于html</li><li>WXSS—类似于css</li><li>JSON—相关配置文件</li><li>JS—相关方法和事件</li></ol><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ol><li>微信小程序view类似div text类似于span之类的标签</li><li>在微信里面只要是渲染数据都是带模版渲染.</li><li>微信的导航栏跳转的地址，在页面跳转就不能进行跳转了。原因：规定如此并非BUG</li><li>底部的tab切换菜单至少2个最多5个(官方文档规定)</li><li>请求到数据进行渲染要注意this的指向</li></ol><h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-comment">//相关事件</span><br>touchstart        手指触摸动作开始<br>touchmove        手指触摸后移动<br>touchcancel手指触摸动作被打断，如来电提醒，弹窗<br>touchend        手指触摸动作结束<br>tap        手指触摸后马上离开<br>longpress        手指触摸后，超过350ms再离开，如果指定了事件回调函数并触发了这个事件，tap事件将不被触发<br>longtap        手指触摸后，超过350ms再离开（推荐使用longpress事件代替）<br>transitionend会在 WXSS transition 或 wx.createAnimation 动画结束后触发<br>animationstart会在一个 WXSS animation 动画开始时触发<br>animationiteration会在一个 WXSS animation 一次迭代结束时触发<br>animationend会在一个 WXSS animation 动画完成时触发<br>touchforcechange在支持 <span class="hljs-number">3D</span> Touch 的 iPhone 设备，重按时会触发<br><br>事例:<br>    <span class="hljs-comment">//首次绑定事件用到 bindtap,阻止事件冒泡用到 catchtap 阻止事件冒泡</span><br>    &lt;button size=<span class="hljs-string">&quot;mini&quot;</span> bindtap=<span class="hljs-string">&quot;getMsg&quot;</span>&gt;点击进行测试/button&gt;<br>    <span class="hljs-comment">//获取值</span><br>    <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.xxx;<br>    <span class="hljs-comment">//改变值</span><br>    <span class="hljs-keyword">this</span>.setData(&#123;<br>        <span class="hljs-comment">//改变的值，键值对的方式</span><br>    &#125;)<br></code></pre></td></tr></table></figure><h2 id="循环事件"><a href="#循环事件" class="headerlink" title="循环事件"></a>循环事件</h2><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">list</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="language-xml">    </span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">index</span>&#125;&#125;</span><span class="language-xml">-</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">item</span>&#125;&#125;</span><span class="language-xml"> //键名-键值</span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">双重嵌套：</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">list1</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="language-xml">    </span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">item.cate</span>&#125;&#125;</span><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">list2</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="language-xml">        </span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">item.name</span>&#125;&#125;</span><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">使用 wx:for-item 可以指定数组当前元素的变量名，</span><br><span class="language-xml">使用 wx:for-index 可以指定数组当前下标的变量名：</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:for</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">array</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> <span class="hljs-attr">wx:for-index</span>=<span class="hljs-string">&quot;key&quot;</span> <span class="hljs-attr">wx:for-item</span>=<span class="hljs-string">&quot;itemName&quot;</span>&gt;</span></span><br><span class="language-xml">    </span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">key</span>&#125;&#125;</span><span class="language-xml">--</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">itemName.xxx</span>&#125;&#125;</span><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h2 id="判断事件"><a href="#判断事件" class="headerlink" title="判断事件"></a>判断事件</h2><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">wx:if</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">length</span> &gt; <span class="hljs-number">4</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml">使用<span class="hljs-tag">&lt;<span class="hljs-name">block</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">block</span>&gt;</span>组件包裹多个判断条件</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">block</span> <span class="hljs-attr">wx:if</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">true</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> view1 <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span> view2 <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">block</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h2 id="小程序渲染HTML模版"><a href="#小程序渲染HTML模版" class="headerlink" title="小程序渲染HTML模版"></a><a href="https://github.com/icindy/wxParse">小程序渲染HTML模版</a></h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-comment">//将相应的插件引入到项目中去，</span><br><span class="hljs-comment">// wxss最好引入到app.wxss里面去，js引入到需要用到的文件里面，HTML也一样</span><br><br><span class="hljs-number">1.</span><span class="hljs-keyword">var</span> WxParse = require(<span class="hljs-string">&#x27;../../wxParse/wxParse.js&#x27;</span>);<br><span class="hljs-number">2.</span><span class="hljs-meta">@import</span> <span class="hljs-string">&quot;wxParse/wxParse.wxss&quot;</span>;<br><span class="hljs-number">3.</span><span class="hljs-keyword">var</span> article = <span class="hljs-string">&#x27;&lt;div&gt;我是HTML代码&lt;/div&gt;&#x27;</span>;<br><br>* WxParse.wxParse(bindName , type, <span class="hljs-keyword">data</span>, target,imagePadding)<br>* <span class="hljs-number">1.</span>bindName绑定的数据名(必填)<br>* <span class="hljs-number">2.</span>type可以为html或者md(必填)<br>* <span class="hljs-number">3.</span><span class="hljs-keyword">data</span>为传入的具体数据(必填)<br>* <span class="hljs-number">4.</span>target为Page对象,一般为<span class="hljs-keyword">this</span>(必填)<br>* <span class="hljs-number">5.</span>imagePadding为当图片自适应是左右的单一padding(默认为<span class="hljs-number">0</span>,可选)<br><span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>;<br>WxParse.wxParse(<span class="hljs-string">&#x27;article&#x27;</span>, <span class="hljs-string">&#x27;html&#x27;</span>, article, that, <span class="hljs-number">5</span>);<br><br><span class="hljs-number">4.</span>&lt;<span class="hljs-keyword">import</span> src=<span class="hljs-string">&quot;你的路径/wxParse/wxParse.wxml&quot;</span>/&gt;<br><span class="hljs-comment">//这里data中article为bindName</span><br>&lt;template <span class="hljs-keyword">is</span>=<span class="hljs-string">&quot;wxParse&quot;</span> <span class="hljs-keyword">data</span>=<span class="hljs-string">&quot;&#123;&#123;wxParseData:article.nodes&#125;&#125;&quot;</span>/&gt;<br></code></pre></td></tr></table></figure><h2 id="微信定义公共办法"><a href="#微信定义公共办法" class="headerlink" title="微信定义公共办法"></a>微信定义公共办法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//定义</span><br><span class="hljs-type">let</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> &#123;<br>    host:<span class="hljs-string">&#x27;www.xxxx.com&#x27;</span><br>&#125;<br><span class="hljs-comment">//导出</span><br><span class="hljs-keyword">module</span>.<span class="hljs-keyword">exports</span>=config;<br><span class="hljs-comment">//使用</span><br><span class="hljs-type">let</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> require(<span class="hljs-string">&#x27;XXXXXX&#x27;</span>);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>weixin</category>
      
    </categories>
    
    
    <tags>
      
      <tag>weixin</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vite批量引入相关的文件</title>
    <link href="/hexo-blog/2021/09/23/tools/vite/"/>
    <url>/hexo-blog/2021/09/23/tools/vite/</url>
    
    <content type="html"><![CDATA[<h2 id="Vite批量引入相关的文件-如vuex"><a href="#Vite批量引入相关的文件-如vuex" class="headerlink" title="Vite批量引入相关的文件(如vuex)"></a>Vite批量引入相关的文件(如vuex)</h2><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 使用globEager直接引入</span><br> <span class="hljs-keyword">const</span> modulesFiles = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-title function_">globEager</span>(<span class="hljs-string">&#x27;./modules/**/*.js&#x27;</span>);<br> <span class="hljs-keyword">const</span> modules = &#123;&#125;<br> <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> modulesFiles)&#123;<br>   modules[key.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/(\.\/modules\/|\.js)/g</span>,<span class="hljs-string">&#x27;&#x27;</span>)] = modulesFiles[key].<span class="hljs-property">default</span><br> &#125;<br> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(modules).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span>=&gt;</span>&#123;<br>   modules[item][<span class="hljs-string">&#x27;namespaced&#x27;</span>] = <span class="hljs-literal">true</span><br> &#125;)<br><br><span class="hljs-comment">// 使用import.meta.glob动态引入(<span class="hljs-doctag">TODO:</span>动态引入无法获取到数据???)</span><br><span class="hljs-keyword">const</span> modulesFiles = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-title function_">glob</span>(<span class="hljs-string">&#x27;./modules/**/*.js&#x27;</span>);<br><span class="hljs-keyword">const</span> modules = &#123;&#125;;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">const</span> path <span class="hljs-keyword">in</span> modulesFiles)&#123;<br>  modulesFiles[path]().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">mod</span>) =&gt;</span> &#123;<br>    modules[path.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/(\.\/modules\/|\.js)/g</span>, <span class="hljs-string">&#x27;&#x27;</span>)] = mod.<span class="hljs-property">default</span><br>  &#125;)<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="webpack的批量引入-全局注册组件"><a href="#webpack的批量引入-全局注册组件" class="headerlink" title="webpack的批量引入(全局注册组件)"></a>webpack的批量引入(全局注册组件)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//1.一个要搜索的目录，2.一个标记表示是否还搜索其子目录，3.以及一个匹配文件的正则表达式</span><br><span class="hljs-keyword">const</span> contexts = <span class="hljs-built_in">require</span>.<span class="hljs-title function_">context</span>(<span class="hljs-string">&#x27;./components&#x27;</span>, <span class="hljs-literal">true</span>, <span class="hljs-regexp">/\.vue$/</span>)<br>contexts.<span class="hljs-title function_">keys</span>().<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">component</span> =&gt;</span> &#123; <br>  <span class="hljs-keyword">let</span> componentEntity = <span class="hljs-title function_">contexts</span>(component).<span class="hljs-property">default</span> <span class="hljs-comment">// 使用内置的组件名称 进行全局组件注册 </span><br>  <span class="hljs-keyword">let</span> cpn = component.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^\.\//</span>, <span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\.\w+$/</span>, <span class="hljs-string">&#x27;&#x27;</span>) <span class="hljs-comment">//不存在name则以组件名称进行注册</span><br>  <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">component</span>(componentEntity.<span class="hljs-property">name</span> || cpn, componentEntity) <br>&#125;)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>vite</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vite</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>nginx使用方法</title>
    <link href="/hexo-blog/2021/09/14/tools/nginx/"/>
    <url>/hexo-blog/2021/09/14/tools/nginx/</url>
    
    <content type="html"><![CDATA[<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a><a href="http://nginx.org/en/download.html">安装</a></h2><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">http:</span>//nginx<span class="hljs-meta">.org</span>/en/download.html<br></code></pre></td></tr></table></figure><a id="more"></a><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><ol><li>执行文件夹中的nginx.exe</li><li>进入该文件中执行start nginx</li></ol><h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-bullet">1.</span> 启动服务 start nginx<br><span class="hljs-bullet">2.</span> 退出服务 nginx -s quit<br><span class="hljs-bullet">3.</span> 强制关闭服务 nginx -s stop<br><span class="hljs-bullet">4.</span> 重载服务 nginx -s reload<br><span class="hljs-bullet">5.</span> 验证配置文件 nginx -t<br><span class="hljs-bullet">6.</span> 使用配置文件 nginx -c &#x27;配置文件路径&#x27;<br><span class="hljs-bullet">7.</span> 使用帮助 nginx -h<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>nginx</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nginx</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>前端压缩图片</title>
    <link href="/hexo-blog/2021/09/09/javascript/compress/"/>
    <url>/hexo-blog/2021/09/09/javascript/compress/</url>
    
    <content type="html"><![CDATA[<h2 id="前端预览图片"><a href="#前端预览图片" class="headerlink" title="前端预览图片"></a>前端预览图片</h2><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs qml"><span class="hljs-keyword">if</span>(<span class="hljs-built_in">window</span>.createObjectURL != <span class="hljs-literal">undefined</span>)&#123;<br>    <span class="hljs-built_in">url</span> = <span class="hljs-built_in">window</span>.createObjectURL(file);<br>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-built_in">window</span>.URl != <span class="hljs-literal">undefined</span>)&#123;<br>    <span class="hljs-built_in">url</span> = <span class="hljs-built_in">window</span>.URL.createObjectURL(file);<br>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-built_in">window</span>.webkitURL != <span class="hljs-literal">undefined</span>)&#123;<br>    <span class="hljs-built_in">url</span> = <span class="hljs-built_in">window</span>.webkitURL.createObjectURL(file);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="前端上传压缩"><a href="#前端上传压缩" class="headerlink" title="前端上传压缩"></a>前端上传压缩</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/*</span><br><span class="hljs-comment">        三个参数</span><br><span class="hljs-comment">        file：一个是文件(类型是图片格式)，</span><br><span class="hljs-comment">        opts：压缩参数&#123;width: 图片宽度, height: 图片高度, quality: 缩放比例，默认0.9&#125;</span><br><span class="hljs-comment">        callback：回调函数，文件blob</span><br><span class="hljs-comment">        photoCompress()</span><br><span class="hljs-comment">         */</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">photoCompress</span>(<span class="hljs-params">file, opts, callback</span>) &#123;<br>    <span class="hljs-keyword">var</span> ready = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>();<br>    <span class="hljs-comment">/*开始读取指定的Blob对象或File对象中的内容. 当读取操作完成时,readyState属性的值会成为DONE,如果设置了onloadend事件处理程序,则调用之.同时,result属性中将包含一个data: URL格式的字符串以表示所读取文件的内容.*/</span><br>    ready.<span class="hljs-title function_">readAsDataURL</span>(file);<br>    ready.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">var</span> re = <span class="hljs-variable language_">this</span>.<span class="hljs-property">result</span>;<br>        <span class="hljs-title function_">canvasDataURL</span>(re, opts, <span class="hljs-keyword">function</span> (<span class="hljs-params">base64Codes</span>) &#123;<br>            <span class="hljs-keyword">if</span> (opts.<span class="hljs-property">wantFile</span>) &#123;<br>                <span class="hljs-title function_">callback</span>(<span class="hljs-title function_">convertBase64UrlToFile</span>(base64Codes, file.<span class="hljs-property">name</span>));<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-title function_">callback</span>(<span class="hljs-title function_">convertBase64UrlToBlob</span>(base64Codes));<br>            &#125;<br>        &#125;);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">canvasDataURL</span>(<span class="hljs-params">path, obj, callback</span>) &#123;<br>    <span class="hljs-keyword">var</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();<br>    img.<span class="hljs-property">src</span> = path;<br>    img.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">var</span> that = <span class="hljs-variable language_">this</span>;<br>        <span class="hljs-comment">// 默认按比例压缩</span><br>        <span class="hljs-keyword">var</span> w = that.<span class="hljs-property">width</span>,<br>            h = that.<span class="hljs-property">height</span>,<br>            scale = w / h;<br>        w = obj.<span class="hljs-property">width</span> || w;<br>        h = obj.<span class="hljs-property">height</span> || (w / scale);<br>        <span class="hljs-keyword">var</span> quality = <span class="hljs-number">0.7</span>; <span class="hljs-comment">// 默认图片质量为0.7</span><br>        <span class="hljs-comment">//如果分辨率大于2000</span><br>        <span class="hljs-keyword">if</span> (w &gt; <span class="hljs-number">2000</span>) &#123;<br>            w = <span class="hljs-number">2000</span>;<br>            h = (w / scale)<br>        &#125;<br>        <span class="hljs-comment">//生成canvas</span><br>        <span class="hljs-keyword">var</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;canvas&#x27;</span>);<br>        <span class="hljs-keyword">var</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&#x27;2d&#x27;</span>);<br>        <span class="hljs-comment">// 创建属性节点</span><br>        <span class="hljs-keyword">var</span> anw = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createAttribute</span>(<span class="hljs-string">&quot;width&quot;</span>);<br>        anw.<span class="hljs-property">nodeValue</span> = w;<br>        <span class="hljs-keyword">var</span> anh = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createAttribute</span>(<span class="hljs-string">&quot;height&quot;</span>);<br>        anh.<span class="hljs-property">nodeValue</span> = h;<br>        canvas.<span class="hljs-title function_">setAttributeNode</span>(anw);<br>        canvas.<span class="hljs-title function_">setAttributeNode</span>(anh);<br>        ctx.<span class="hljs-title function_">drawImage</span>(that, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, w, h);<br>        <span class="hljs-comment">// 图像质量</span><br>        <span class="hljs-keyword">if</span> (obj.<span class="hljs-property">quality</span> &amp;&amp; obj.<span class="hljs-property">quality</span> &lt;= <span class="hljs-number">1</span> &amp;&amp; obj.<span class="hljs-property">quality</span> &gt; <span class="hljs-number">0</span>) &#123;<br>            quality = obj.<span class="hljs-property">quality</span>;<br>        &#125;<br>        <span class="hljs-comment">// quality值越小，所绘制出的图像越模糊</span><br>        <span class="hljs-keyword">var</span> base64 = canvas.<span class="hljs-title function_">toDataURL</span>(<span class="hljs-string">&#x27;image/jpeg&#x27;</span>, quality);<br>        <span class="hljs-comment">// 回调函数返回base64的值</span><br>        <span class="hljs-title function_">callback</span>(base64);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 将以base64的图片url数据转换为Blob</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> <span class="hljs-variable">urlData</span></span><br><span class="hljs-comment"> *            用url方式表示的base64图片数据</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">convertBase64UrlToBlob</span>(<span class="hljs-params">urlData</span>) &#123;<br>    <span class="hljs-keyword">var</span> arr = urlData.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;,&#x27;</span>),<br>        mime = arr[<span class="hljs-number">0</span>].<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/:(.*?);/</span>)[<span class="hljs-number">1</span>],<br>        bstr = <span class="hljs-title function_">atob</span>(arr[<span class="hljs-number">1</span>]),<br>        n = bstr.<span class="hljs-property">length</span>,<br>        u8arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(n);<br>    <span class="hljs-keyword">while</span> (n--) &#123;<br>        u8arr[n] = bstr.<span class="hljs-title function_">charCodeAt</span>(n);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>([u8arr], &#123;<br>        <span class="hljs-attr">type</span>: mime<br>    &#125;);<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>JavaScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vscode的git提交流程</title>
    <link href="/hexo-blog/2021/09/08/git/vscode-git/"/>
    <url>/hexo-blog/2021/09/08/git/vscode-git/</url>
    
    <content type="html"><![CDATA[<h2 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h2><ol><li><p>添加暂存：</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">git</span> <span class="hljs-keyword">add</span> . <span class="hljs-comment">//当前目录及其子目录</span><br><span class="hljs-symbol">git</span> <span class="hljs-keyword">add</span> -A (仓库内所有的变更加入暂存区)<br><span class="hljs-symbol">git</span> <span class="hljs-keyword">add</span> 文件<span class="hljs-number">1</span> 文件<span class="hljs-number">2</span>...(把指定文件添加到暂存区)<br></code></pre></td></tr></table></figure><a id="more"></a></li><li><p>本地commit</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">git</span> commit -m <span class="hljs-string">&quot;暂存信息&quot;</span><br></code></pre></td></tr></table></figure></li><li><p>push云端</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade">git <span class="hljs-built_in">push</span><br></code></pre></td></tr></table></figure></li><li><p>拉取云端代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">git pull <span class="hljs-attr">--rebase</span>  // git pull -<span class="hljs-attribute">r</span><br></code></pre></td></tr></table></figure></li><li><p>撤销commit</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs 1c">git revert HEAD <span class="hljs-comment">//撤销前一次的commit</span><br>git revert commit <span class="hljs-comment">//撤销指定版本，撤销也作为第一次提交保存</span><br></code></pre></td></tr></table></figure></li><li><p>查看git在那个分支上</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">git branch -v</span><br></code></pre></td></tr></table></figure></li><li><p>切换到指定的分支</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">git</span> checkout 指定分支<br></code></pre></td></tr></table></figure></li><li><p>比较差异</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">git <span class="hljs-keyword">diff </span>某文件 (比较文件差异)<br>git <span class="hljs-keyword">diff </span>--<span class="hljs-keyword">cache(比较暂存区和head的差异)</span><br><span class="hljs-keyword"></span>git <span class="hljs-keyword">diff </span>(比较工作区和暂存区的所有差异)<br>git <span class="hljs-keyword">diff </span>--<span class="hljs-keyword">cache </span>某文件(比较某文件暂存区和head的差异)<br></code></pre></td></tr></table></figure></li><li><p>回滚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">git <span class="hljs-keyword">reset</span> 文件<span class="hljs-number">1</span> 文件<span class="hljs-number">2.</span>..(把暂存区指定文件回复和head一样)<br>git <span class="hljs-keyword">reset</span> <span class="hljs-comment">--hard(把暂存区和工作区所有文件恢复成和head一样)</span><br></code></pre></td></tr></table></figure></li><li><p>比较difftool比较任意两个commit的差异</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs maxima">git difftool commit1 commit2<br><br>注意，从工作区回滚到暂存区则用 checkout ，否则用 <span class="hljs-built_in">reset</span><br></code></pre></td></tr></table></figure></li><li><p>查看哪些文件没有被git管控</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">git ls-<span class="hljs-built_in">files</span> <span class="hljs-comment">--others</span><br><span class="hljs-number">12.</span>git reflog<span class="hljs-comment"> //获取本地commit所有的信息</span><br></code></pre></td></tr></table></figure></li></ol><h2 id="查看git的信息"><a href="#查看git的信息" class="headerlink" title="查看git的信息"></a>查看git的信息</h2><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs applescript">git <span class="hljs-built_in">log</span> <span class="hljs-comment">--oneline</span><br>git reflog<br></code></pre></td></tr></table></figure><h2 id="使用commitizen规范commit消息"><a href="#使用commitizen规范commit消息" class="headerlink" title="使用commitizen规范commit消息"></a>使用commitizen规范commit消息</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs stylus">全局安装:<br>npm install commitizen -<span class="hljs-selector-tag">g</span> <span class="hljs-comment">//全局安装规范化</span><br>本地安装:<br>npm:<br>npm install commitizen <span class="hljs-attr">--save-dev</span><br>npm commitizen init cz-conventional-changelog <span class="hljs-attr">--save-dev</span> <span class="hljs-attr">--save-exact</span><br><br>yarn:<br>yarn add commitizen <span class="hljs-attr">--dev</span><br>yarn commitizen init cz-conventional-changelog <span class="hljs-attr">--yarn</span> <span class="hljs-attr">--dev</span> <span class="hljs-attr">--exact</span><br><br>手动配置package<span class="hljs-selector-class">.json</span><br>script:&#123;<br>    commit:git-cz<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><ol><li>git cz 代替git commit<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs maxima">feat：新功能（<span class="hljs-built_in">feature</span>）<br><span class="hljs-built_in">fix</span>：修补bug<br>docs：文档（documentation）<br><span class="hljs-built_in">style</span>： 格式（不影响代码运行的变动）<br>refactor：重构（即不是新增功能，也不是修改bug的代码变动）<br>test：增加测试<br>chore：构建过程或辅助工具的变动<br>perf:提高性能的代码更改<br>ci:对CI配置文件和脚本的更改（示例范围：travis、circle、browserstack、sattlabs）<br>...<br></code></pre></td></tr></table></figure></li><li>提交结构分为三部分</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css">head、<span class="hljs-selector-tag">body</span>、<span class="hljs-selector-tag">footer</span> <br>提交时，分别对应的是提交的类别、提交影响的范围、提交的简短描述、提交的变动信息。<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>git</title>
    <link href="/hexo-blog/2021/09/08/git/git/"/>
    <url>/hexo-blog/2021/09/08/git/git/</url>
    
    <content type="html"><![CDATA[<h2 id="0-配置全局的git"><a href="#0-配置全局的git" class="headerlink" title="0.配置全局的git"></a>0.配置全局的git</h2><ol><li>配置全局的git.username<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">git config <span class="hljs-attr">--global</span> user<span class="hljs-selector-class">.name</span> <span class="hljs-string">&quot;xxx&quot;</span><br>git config <span class="hljs-attr">--global</span> user<span class="hljs-selector-class">.email</span> <span class="hljs-string">&quot;xxx&quot;</span><br></code></pre></td></tr></table></figure></li><li>查看配置<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">git config --list <span class="hljs-comment">// 或者 git config查看所有的配置</span><br></code></pre></td></tr></table></figure><a id="more"></a></li></ol><h2 id="1-解决冲突"><a href="#1-解决冲突" class="headerlink" title="1. 解决冲突"></a>1. 解决冲突</h2><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">git merge dev/ <span class="hljs-keyword">master</span><br><br><span class="hljs-title">git</span> rebase（也可以使用）<br><br>合并分支出现冲突<br>git status 查看状态<br><br>再次<br>A. git add .<br>B. git commit -m <span class="hljs-string">&quot;xxxxfix&quot;</span><br>C. git push<br></code></pre></td></tr></table></figure><h2 id="2-使用了代码规范提交代码commit不上请使用"><a href="#2-使用了代码规范提交代码commit不上请使用" class="headerlink" title="2.使用了代码规范提交代码commit不上请使用"></a>2.使用了代码规范提交代码commit不上请使用</h2><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gams">git commit --<span class="hljs-keyword">no</span>-verify -m <span class="hljs-string">&quot;xxxx&quot;</span>  <span class="hljs-comment">//不推荐使用这种方法，但是管用</span><br></code></pre></td></tr></table></figure><h2 id="3-使用ssh-keygen去掉密码："><a href="#3-使用ssh-keygen去掉密码：" class="headerlink" title="3.使用ssh-keygen去掉密码："></a>3.使用ssh-keygen去掉密码：</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">ssh-keygen -<span class="hljs-selector-tag">p</span> <span class="hljs-selector-attr">[-P old_pass]</span> <span class="hljs-selector-attr">[-N new_pass]</span> <span class="hljs-selector-attr">[-f keyfile]</span><br>eg: ssh-keygen -<span class="hljs-selector-tag">p</span> -P test1234 -N <span class="hljs-string">&#x27;&#x27;</span> -f ~/.ssh/id_rsa<br></code></pre></td></tr></table></figure><h2 id="4-清除git的账户和密码"><a href="#4-清除git的账户和密码" class="headerlink" title="4.清除git的账户和密码"></a>4.清除git的账户和密码</h2><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs 1c"><span class="hljs-comment">//清除掉缓存在git中的用户名和密码</span><br>git credential<span class="hljs-punctuation">-</span>manager uninstall<br></code></pre></td></tr></table></figure><h2 id="5-保存项目的用户名和密码"><a href="#5-保存项目的用户名和密码" class="headerlink" title="5.保存项目的用户名和密码"></a>5.保存项目的用户名和密码</h2><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs arduino">git config user.name<br>git config user.email<br><br>git config credential.helper store  <span class="hljs-comment">//缓存用户信息</span><br><br><br>git pull -r  <span class="hljs-comment">//直接查看拉取数据是否还是需要输入用户名和密码</span><br><br></code></pre></td></tr></table></figure><h2 id="6-删除git-stash内容-缓存的内容"><a href="#6-删除git-stash内容-缓存的内容" class="headerlink" title="6.删除git stash内容(缓存的内容)"></a>6.删除git stash内容(缓存的内容)</h2><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mel">git stash list <span class="hljs-comment">//查看内容</span><br><br>git stash <span class="hljs-keyword">clear</span> <span class="hljs-comment">//删除全部内容</span><br><br>git stash drop stash@&#123;0&#125; <span class="hljs-comment">//删除第一个队列</span><br><br></code></pre></td></tr></table></figure><h2 id="7-git本地commit撤销"><a href="#7-git本地commit撤销" class="headerlink" title="7.git本地commit撤销"></a>7.git本地commit撤销</h2><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs perl">git <span class="hljs-keyword">reset</span> HEAD~<span class="hljs-number">1</span><br>OR<br>git <span class="hljs-keyword">reset</span> HEAD~ <span class="hljs-regexp">//</span>回滚全部<br></code></pre></td></tr></table></figure><h2 id="8-git-merge-合并分支"><a href="#8-git-merge-合并分支" class="headerlink" title="8.git merge 合并分支"></a>8.git merge 合并分支</h2><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">git chekout <span class="hljs-keyword">master</span><br><br><span class="hljs-title">git</span> pull origin <span class="hljs-keyword">master</span><br><br><span class="hljs-title">git</span> merge dev<br><br>git status<br><br>git  push<br></code></pre></td></tr></table></figure><h2 id="9-git强制提交"><a href="#9-git强制提交" class="headerlink" title="9.git强制提交"></a>9.git强制提交</h2><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">git push -f origin <span class="hljs-keyword">master</span>  <br><span class="hljs-title">//origin</span>远程仓库名，<span class="hljs-literal">master</span>分支名，-f为force，意为：强行、强制。<br></code></pre></td></tr></table></figure><h2 id="10-git拉取某个分支"><a href="#10-git拉取某个分支" class="headerlink" title="10.git拉取某个分支"></a>10.git拉取某个分支</h2><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">git <span class="hljs-keyword">clone</span> <span class="hljs-title">-b</span> xxx.git<br></code></pre></td></tr></table></figure><h2 id="11-回滚"><a href="#11-回滚" class="headerlink" title="11.回滚"></a>11.回滚</h2><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-number">1</span>、git <span class="hljs-built_in">log</span> <span class="hljs-comment">//获取提交的id日志</span><br><br><span class="hljs-number">2</span>、git reset --hard <span class="hljs-string">&quot;id&quot;</span> <span class="hljs-comment">//本地回滚</span><br><br><span class="hljs-number">3</span>、git <span class="hljs-built_in">push</span> -f <span class="hljs-comment">//远端回滚版本</span><br></code></pre></td></tr></table></figure><h2 id="12-git-rebase"><a href="#12-git-rebase" class="headerlink" title="12.git rebase"></a>12.git rebase</h2><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elixir">编辑完成后，可以点<span class="hljs-title class_">ESC</span> 在输入<span class="hljs-symbol">:wq</span>做保存，不想保存的话就输入<span class="hljs-symbol">:q!</span><br>结束上面流程后在查看一次log commit记录<br></code></pre></td></tr></table></figure><h2 id="13-git-使用-gitignore忽略已经提交的文件或者文件夹"><a href="#13-git-使用-gitignore忽略已经提交的文件或者文件夹" class="headerlink" title="13.git 使用.gitignore忽略已经提交的文件或者文件夹"></a>13.git 使用.gitignore忽略已经提交的文件或者文件夹</h2><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade">git rm -r --cached &lt;projectName&gt;<br>git commit -m <span class="hljs-string">&quot;&lt;备注信息&gt;&quot;</span><br>git <span class="hljs-built_in">push</span> <span class="hljs-comment">//提交信息</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vue常用的一些指令</title>
    <link href="/hexo-blog/2021/09/07/vue/directive/"/>
    <url>/hexo-blog/2021/09/07/vue/directive/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>来源于掘金、思否等…相关网站</p>          </div><h1 id="以下指令都是基于Vue2-xx"><a href="#以下指令都是基于Vue2-xx" class="headerlink" title="以下指令都是基于Vue2.xx"></a>以下指令都是基于Vue2.xx</h1><a id="more"></a><h2 id="v-permission-按钮级的权限控制"><a href="#v-permission-按钮级的权限控制" class="headerlink" title="v-permission(按钮级的权限控制)"></a>v-permission(按钮级的权限控制)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//请求后台获取到的权限数据</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">checkArray</span>(<span class="hljs-params">key</span>) &#123;<br>  <span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-string">&#x27;3&#x27;</span>, <span class="hljs-string">&#x27;4&#x27;</span>]<br>  <span class="hljs-keyword">let</span> index = arr.<span class="hljs-title function_">indexOf</span>(key)<br>  <span class="hljs-keyword">if</span> (index &gt; -<span class="hljs-number">1</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span> <span class="hljs-comment">// 有权限</span><br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span> <span class="hljs-comment">// 无权限</span><br>  &#125;<br><br>  <span class="hljs-comment">//简化版</span><br>  <span class="hljs-comment">//return permissionList.includes(key)</span><br>&#125;<br><br><span class="hljs-keyword">const</span> permission = &#123;<br>  <span class="hljs-attr">inserted</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">el, binding</span>) &#123;<br>    <span class="hljs-keyword">let</span> permission = binding.<span class="hljs-property">value</span> <span class="hljs-comment">// 获取到 v-permission的值</span><br>    <span class="hljs-keyword">if</span> (permission) &#123;<br>      <span class="hljs-keyword">let</span> hasPermission = <span class="hljs-title function_">checkArray</span>(permission)<br>      <span class="hljs-keyword">if</span> (!hasPermission) &#123;<br>        <span class="hljs-comment">// 没有权限 移除Dom元素</span><br>        el.<span class="hljs-property">parentNode</span> &amp;&amp; el.<span class="hljs-property">parentNode</span>.<span class="hljs-title function_">removeChild</span>(el)<br>      &#125;<br>    &#125;<br>  &#125;,<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> permission<br></code></pre></td></tr></table></figure><h2 id="v-waterMarker-水印"><a href="#v-waterMarker-水印" class="headerlink" title="v-waterMarker(水印)"></a>v-waterMarker(水印)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">addWaterMarker</span>(<span class="hljs-params">str, parentNode, font, textColor</span>) &#123;<br>  <span class="hljs-comment">// 水印文字，父元素，字体，文字颜色</span><br>  <span class="hljs-keyword">var</span> can = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;canvas&#x27;</span>)<br>  parentNode.<span class="hljs-title function_">appendChild</span>(can)<br>  can.<span class="hljs-property">width</span> = <span class="hljs-number">200</span><br>  can.<span class="hljs-property">height</span> = <span class="hljs-number">150</span><br>  can.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&#x27;none&#x27;</span><br>  <span class="hljs-keyword">var</span> cans = can.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&#x27;2d&#x27;</span>)<br>  cans.<span class="hljs-title function_">rotate</span>((-<span class="hljs-number">20</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>) / <span class="hljs-number">180</span>)<br>  cans.<span class="hljs-property">font</span> = font || <span class="hljs-string">&#x27;16px Microsoft JhengHei&#x27;</span><br>  cans.<span class="hljs-property">fillStyle</span> = textColor || <span class="hljs-string">&#x27;rgba(180, 180, 180, 0.3)&#x27;</span><br>  cans.<span class="hljs-property">textAlign</span> = <span class="hljs-string">&#x27;left&#x27;</span><br>  cans.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">&#x27;Middle&#x27;</span><br>  cans.<span class="hljs-title function_">fillText</span>(str, can.<span class="hljs-property">width</span> / <span class="hljs-number">10</span>, can.<span class="hljs-property">height</span> / <span class="hljs-number">2</span>)<br>  parentNode.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundImage</span> = <span class="hljs-string">&#x27;url(&#x27;</span> + can.<span class="hljs-title function_">toDataURL</span>(<span class="hljs-string">&#x27;image/png&#x27;</span>) + <span class="hljs-string">&#x27;)&#x27;</span><br>&#125;<br><br><span class="hljs-keyword">const</span> waterMarker = &#123;<br>  <span class="hljs-attr">bind</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">el, binding</span>) &#123;<br>    <span class="hljs-title function_">addWaterMarker</span>(binding.<span class="hljs-property">value</span>.<span class="hljs-property">text</span>, el, binding.<span class="hljs-property">value</span>.<span class="hljs-property">font</span>, binding.<span class="hljs-property">value</span>.<span class="hljs-property">textColor</span>)<br>  &#125;,<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> waterMarker<br>&lt;!-- --------------------------------------------分割线---------------------------------------------- --&gt;<br>&lt;!-- 另一个版本 --&gt;<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">watermark</span> =(<span class="hljs-params">props</span>)=&gt; &#123;<br>  <span class="hljs-keyword">const</span> &#123;<br>    width=<span class="hljs-string">&#x27;300px&#x27;</span>,<br>    height=<span class="hljs-string">&#x27;300px&#x27;</span>,<br>    textAlign=<span class="hljs-string">&#x27;center&#x27;</span>,<br>    verticalAlign=<span class="hljs-string">&#x27;center&#x27;</span>,<br>    font=<span class="hljs-string">&#x27;18px Microsoft Yahei&#x27;</span>,<br>    fillStyle=<span class="hljs-string">&#x27;rgba(100,100,100,.2)&#x27;</span>,<br>    contnet=<span class="hljs-string">&#x27;机密内容&#x27;</span>,<br>    rotate=-<span class="hljs-number">20</span><br>  &#125;= props<br><br>  <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;canvas&#x27;</span>);<br>  <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&#x27;2d&#x27;</span>);<br>  canvas.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;width&#x27;</span>,width);<br>  canvas.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;height&#x27;</span>,height);<br>  ctx.<span class="hljs-property">textAlign</span> = textAlign;<br>  ctx.<span class="hljs-property">verticalAlign</span> = verticalAlign;<br>  ctx.<span class="hljs-property">font</span> = font;<br>  ctx.<span class="hljs-property">fillStyle</span> = fillStyle;<br>  ctx.<span class="hljs-title function_">rotate</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">100</span> * rotate);<br>  ctx.<span class="hljs-title function_">fillText</span>(content,<span class="hljs-built_in">parseFloat</span>(width) / <span class="hljs-number">2</span>,<span class="hljs-built_in">parseFloat</span>(height) / <span class="hljs-number">2</span>)<br>  <span class="hljs-keyword">const</span> base64Url =canvas.<span class="hljs-title function_">toDataURL</span>(<span class="hljs-string">&#x27;image/png&#x27;</span>,<span class="hljs-number">.92</span>);<br>  <span class="hljs-keyword">const</span> _wm = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;._wm&#x27;</span>);<br>  <span class="hljs-keyword">const</span> watermarkDiv = _wm || <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;div&#x27;</span>);<br>  <span class="hljs-keyword">const</span> styleStr = <span class="hljs-string">`</span><br><span class="hljs-string">    width:100%;</span><br><span class="hljs-string">    height:100%;</span><br><span class="hljs-string">    position:absolute;</span><br><span class="hljs-string">    top:0;</span><br><span class="hljs-string">    left:0;</span><br><span class="hljs-string">    background:url(<span class="hljs-subst">$&#123;base64Url&#125;</span>);</span><br><span class="hljs-string">    pointer-events:none;</span><br><span class="hljs-string">  `</span><br>  watermarkDiv.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;style&#x27;</span>,styleStr);<br>  watermarkDiv.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;_wm&#x27;</span>);<br>  <span class="hljs-keyword">if</span>(!_wm)&#123;<br>    container.<span class="hljs-property">style</span>.<span class="hljs-property">position</span> = <span class="hljs-string">&#x27;relative&#x27;</span>;<br>    container.<span class="hljs-title function_">insertBefore</span>(watermarkDiv,container.<span class="hljs-property">firstChild</span>);<br>  &#125;<br>  <span class="hljs-keyword">const</span> <span class="hljs-title class_">MutationObserver</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">MutationObserver</span> || <span class="hljs-variable language_">window</span>.<span class="hljs-property">WebKitMutationObserver</span>;<br>  <span class="hljs-keyword">if</span>(<span class="hljs-title class_">MutationObserver</span>)&#123;<br>    <span class="hljs-keyword">let</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutationObserver</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>      <span class="hljs-keyword">const</span> _wm = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;._wm&#x27;</span>);<br>      <span class="hljs-keyword">if</span>((_wm &amp;&amp; _wm.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">&#x27;style&#x27;</span>)!== styleStr) || !_wm)&#123;<br>        observer.<span class="hljs-title function_">disconnect</span>();<br>        observer = <span class="hljs-literal">null</span>;<br>        <span class="hljs-title function_">watermark</span>(props);<br>      &#125;<br>    &#125;)<br>    observer.<span class="hljs-title function_">observer</span>(container,&#123;<br>      <span class="hljs-attr">attributes</span>:<span class="hljs-literal">true</span>,<br>      <span class="hljs-attr">childList</span>:<span class="hljs-literal">true</span>,<br>      <span class="hljs-attr">characterData</span>:<span class="hljs-literal">true</span>,<br>      <span class="hljs-attr">subtree</span>:<span class="hljs-literal">true</span><br>    &#125;)<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> &#123;watermark&#125;;<br><br><br></code></pre></td></tr></table></figure><h2 id="v-conversion-KB-MB-GB转换"><a href="#v-conversion-KB-MB-GB转换" class="headerlink" title="v-conversion(KB-MB-GB转换)"></a>v-conversion(KB-MB-GB转换)</h2><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs qml"><span class="hljs-keyword">const</span> filterData = (<span class="hljs-built_in">size</span>)=&gt;&#123;<br>    <span class="hljs-keyword">const</span> KB = <span class="hljs-number">1024</span> <span class="hljs-comment">// kb</span><br>    <span class="hljs-keyword">const</span> MB = <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> <span class="hljs-comment">// mb</span><br>    <span class="hljs-keyword">const</span> GB = <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> <span class="hljs-comment">// gb</span><br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">size</span> &lt; KB)<span class="hljs-keyword">return</span> <span class="hljs-built_in">size</span> +<span class="hljs-string">&#x27;B&#x27;</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-built_in">size</span> &lt; MB)<span class="hljs-keyword">return</span> (<span class="hljs-built_in">size</span> / KB).toFixed(<span class="hljs-number">2</span>) +<span class="hljs-string">&#x27;KB&#x27;</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-built_in">size</span> &lt; GB)<span class="hljs-keyword">return</span> (<span class="hljs-built_in">size</span> / MB).toFixed(<span class="hljs-number">2</span>) +<span class="hljs-string">&#x27;MB&#x27;</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> (<span class="hljs-built_in">size</span> / GB).toFixed(<span class="hljs-number">2</span>) + <span class="hljs-string">&#x27;GB&#x27;</span>;<br>&#125;<br><br><span class="hljs-attribute">directives</span>:&#123;<br>    <span class="hljs-attribute">conversion</span>:&#123;<br>        inserted(el,binding,vnode)&#123;<br>            filterData(binding.value)<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="v-debounce-防抖"><a href="#v-debounce-防抖" class="headerlink" title="v-debounce(防抖)"></a>v-debounce(防抖)</h2><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">const debounce = &#123;<br>  inserted: function (el, binding) &#123;<br>    let timer<br>    el.addEventListener(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>      <span class="hljs-keyword">if</span> (timer) &#123;<br>        <span class="hljs-built_in">clearTimeout</span>(timer)<br>      &#125;<br>      timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;<br>        binding.value()<br>      &#125;, <span class="hljs-number">1000</span>)<br>    &#125;)<br>  &#125;,<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> debounce<br></code></pre></td></tr></table></figure><h2 id="v-throttle-节流"><a href="#v-throttle-节流" class="headerlink" title="v-throttle(节流)"></a>v-throttle(节流)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> throttle = &#123;<br>  <span class="hljs-attr">inserted</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">el, binding</span>) &#123;<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">throttleIn</span>(<span class="hljs-params">fun, delay</span>) &#123;<br>        <span class="hljs-keyword">let</span> last, deferTimer;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">let</span> that = <span class="hljs-variable language_">this</span>;<br>            <span class="hljs-keyword">let</span> _args = <span class="hljs-variable language_">arguments</span>;<br>            <span class="hljs-keyword">let</span> now = +<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>            <span class="hljs-keyword">if</span> (last &amp;&amp; now &lt; last + delay) &#123;<br>                <span class="hljs-built_in">clearTimeout</span>(deferTimer);<br>                deferTimer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>                    last = now;<br>                    fun.<span class="hljs-title function_">apply</span>(that, _args)<br>                &#125;, delay)<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                last = now;<br>                fun.<span class="hljs-title function_">apply</span>(that, _args);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">const</span> throttleFn = <span class="hljs-title function_">throttleIn</span>(binding.<span class="hljs-property">value</span>,<span class="hljs-number">1000</span>);<br>    el.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;mousemove&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-title function_">throttleFn</span>(<span class="hljs-string">&#x27;move一次&#x27;</span>)<br>    &#125;)<br>  &#125;,<br>&#125;<br><br>&lt;!-- 简化版本 --&gt;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">throttleIn</span> (<span class="hljs-params">fun:any, delay:number</span>)&#123;<br>    <span class="hljs-keyword">let</span> <span class="hljs-attr">previous</span>:number = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">let</span> that = <span class="hljs-variable language_">this</span>;<br>        <span class="hljs-keyword">let</span> _args = <span class="hljs-variable language_">arguments</span>;<br>        <span class="hljs-keyword">let</span> now = +<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>        <span class="hljs-keyword">if</span> (now - previous &gt; delay) &#123;<br>            fun.<span class="hljs-title function_">apply</span>(that, _args)<br>            previous = now;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> throttle<br></code></pre></td></tr></table></figure><h2 id="v-fixed-全局指令注册"><a href="#v-fixed-全局指令注册" class="headerlink" title="v-fixed(全局指令注册)"></a>v-fixed(全局指令注册)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Vue</span>.<span class="hljs-property">directives</span>:&#123;<br>  <span class="hljs-attr">fixed</span>:&#123;<br>    <span class="hljs-title function_">inserted</span>(<span class="hljs-params"></span>)&#123;<br>      <span class="hljs-keyword">let</span> scrollTop = <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">scrollTop</span> || <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">scrollTop</span><br>      <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span> +=<span class="hljs-string">&#x27;position:fixed;overflow:hidden;width:100%;top:-&#x27;</span>+scrollTop+<span class="hljs-string">&#x27;px;&#x27;</span><br>    &#125;,<br>    <span class="hljs-title function_">unbind</span>(<span class="hljs-params"></span>)&#123;<br>      <span class="hljs-keyword">let</span> body = <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>,top = body.<span class="hljs-property">style</span>.<span class="hljs-property">top</span>;<br>      <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">scrollTop</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">scrollTop</span> = -<span class="hljs-built_in">parseInt</span>(top);<br>      body.<span class="hljs-property">style</span>.<span class="hljs-property">position</span> = <span class="hljs-string">&#x27;&#x27;</span>;<br>      body.<span class="hljs-property">style</span>.<span class="hljs-property">top</span> = <span class="hljs-string">&#x27;&#x27;</span>;<br>      body.<span class="hljs-property">style</span>.<span class="hljs-property">overlfow</span> = <span class="hljs-string">&#x27;initial&#x27;</span>;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="批量注册自定义指令"><a href="#批量注册自定义指令" class="headerlink" title="批量注册自定义指令"></a>批量注册自定义指令</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> directives = &#123;<br>    xxx,<br>    <span class="hljs-attr">debounce</span>:&#123;<br>        <span class="hljs-attr">inserted</span>:<span class="hljs-title function_">funciton</span>(<span class="hljs-params">el,binding</span>)&#123;&#125;<br>        ....<br>    &#125;,<br>    ....<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>    <span class="hljs-title function_">install</span>(<span class="hljs-params">Vue</span>)&#123;<br>        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(directives).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span>=&gt;</span>&#123;<br>            <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(key,directives[key])<br>        &#125;)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>项目中遇到的问题集合</title>
    <link href="/hexo-blog/2021/09/03/practice/practice/"/>
    <url>/hexo-blog/2021/09/03/practice/practice/</url>
    
    <content type="html"><![CDATA[<h2 id="Vue代理问题"><a href="#Vue代理问题" class="headerlink" title="Vue代理问题"></a>Vue代理问题</h2><ol><li>Vue proxy代理 服务端cookies Path多级路径问题<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs markdown">解决方法:<br><span class="hljs-bullet">1.</span> 将代理名称配置为Path目录名称一致<br><span class="hljs-bullet">2.</span> 配置axios的baseUrl<br></code></pre></td></tr></table></figure></li><li>VueCli3.xx以上引入静态的css和Js文件<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//统一放在public文件夹下</span><br>src=<span class="hljs-string">&quot;&lt;%= BASE_URL %&gt;XXX.js&quot;</span> 方式引入<br><br><span class="hljs-comment">//在vue.config.js中使用</span><br><span class="hljs-keyword">module</span>.<span class="hljs-keyword">exports</span> = &#123;<br>    configureWebpack:&#123;<br>        externals:&#123;<br>            <span class="hljs-string">&#x27;jquery&#x27;</span>:<span class="hljs-string">&#x27;$&#x27;</span><br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><a id="more"></a><h2 id="快速将表单转换为对象"><a href="#快速将表单转换为对象" class="headerlink" title="快速将表单转换为对象"></a>快速将表单转换为对象</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">const</span> formdata = <span class="hljs-built_in">new</span> FormData();<br>formdata.<span class="hljs-built_in">append</span>(<span class="hljs-string">&quot;user&quot;</span>,<span class="hljs-string">&quot;jack&quot;</span>);<br>formdata.<span class="hljs-built_in">append</span>(<span class="hljs-string">&quot;pwd&quot;</span>,<span class="hljs-string">&#x27;admin123&#x27;</span>);<br>formdata.appned(<span class="hljs-string">&#x27;file&#x27;</span>,<span class="hljs-built_in">new</span> Blob(),<span class="hljs-string">&#x27;png&#x27;</span>)<br>console.log(Object.fromEntries(formdata))<br><span class="hljs-comment">// VM4738:1 &#123;user: &quot;jack&quot;, pwd: &quot;123123&quot;, file: ....file&#125;</span><br></code></pre></td></tr></table></figure><h2 id="查询字符串快速转换为对象"><a href="#查询字符串快速转换为对象" class="headerlink" title="查询字符串快速转换为对象"></a>查询字符串快速转换为对象</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//快速将URL参数转换为对象</span><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">URLSearchParams</span>(<span class="hljs-string">&quot;?foo=bar&amp;baz=qux&amp;test=demo&quot;</span>))<br><span class="hljs-comment">//&#123;foo: &quot;bar&quot;, baz: &quot;qux&quot;, test: &quot;demo&quot;&#125;</span><br><br><span class="hljs-comment">//快速实现数字累计--通过prototype</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">numCount</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> numCount.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">num</span> = numCount.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">num</span> ? ++numCount.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">num</span> : <span class="hljs-number">1</span><br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">numCount</span>()) <span class="hljs-comment">//1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">numCount</span>()) <span class="hljs-comment">//2</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">numCount</span>()) <span class="hljs-comment">//3</span><br></code></pre></td></tr></table></figure><h2 id="Vant框架-H5页面问题"><a href="#Vant框架-H5页面问题" class="headerlink" title="Vant框架 H5页面问题"></a>Vant框架 H5页面问题</h2><ol><li>h5中的IOS不支持横线的时间格式，如：2020-02-08 19:52:59</li><li>h5中使用了vant组件的van-search，要显示搜索按钮，如下设置<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;/&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">van-search</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ol><h2 id="项目场景根据物流公司的首字母去匹配对应的数据分类"><a href="#项目场景根据物流公司的首字母去匹配对应的数据分类" class="headerlink" title="项目场景根据物流公司的首字母去匹配对应的数据分类"></a>项目场景根据物流公司的首字母去匹配对应的数据分类</h2><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs inform7">for循环版本：<br>let data = &#123;&#125;;<br>for (let i = 0; i &lt; res.length; i++) &#123;<br>    if (!data<span class="hljs-comment">[res<span class="hljs-comment">[i]</span>.e_letter]</span>) &#123;<br>        let arr = <span class="hljs-comment">[]</span>;<br>    arr.push(res<span class="hljs-comment">[i]</span>);<br>        data<span class="hljs-comment">[res<span class="hljs-comment">[i]</span>.e_letter]</span> = arr;<br>    &#125; else &#123;<br>        data<span class="hljs-comment">[res<span class="hljs-comment">[i]</span>.e_letter]</span>.push(res<span class="hljs-comment">[i]</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="数组对象的替换"><a href="#数组对象的替换" class="headerlink" title="数组对象的替换"></a>数组对象的替换</h2><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xquery"><span class="hljs-keyword">let</span> arr =[<br>    <span class="hljs-built_in">&#123;id</span>:<span class="hljs-number">1</span><span class="hljs-built_in">,name</span>:<span class="hljs-string">&quot;test&quot;</span>&#125;,<br>    <span class="hljs-built_in">&#123;id</span>:<span class="hljs-number">2</span><span class="hljs-built_in">,name</span>:<span class="hljs-string">&quot;test1&quot;</span>&#125;,<br>    <span class="hljs-built_in">&#123;id</span>:<span class="hljs-number">3</span><span class="hljs-built_in">,name</span>:<span class="hljs-string">&quot;test2&quot;</span>&#125;,<br>]<br><span class="hljs-keyword">let</span> obj = <span class="hljs-built_in">&#123;id</span>:<span class="hljs-number">2</span><span class="hljs-built_in">,name</span>:<span class="hljs-string">&quot;hahah&quot;</span>&#125;<br><br>arr = arr.<span class="hljs-keyword">map</span>(<span class="hljs-type">item</span>=&gt;<span class="hljs-type">item</span><span class="hljs-built_in">.id</span> === obj<span class="hljs-built_in">.id</span> ? obj :<span class="hljs-type">item</span>)<br></code></pre></td></tr></table></figure><h2 id="删除两个数组对象中相同的对象"><a href="#删除两个数组对象中相同的对象" class="headerlink" title="删除两个数组对象中相同的对象"></a>删除两个数组对象中相同的对象</h2><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xquery"><span class="hljs-keyword">let</span> arr1 = [<span class="hljs-built_in">&#123;id</span>:<span class="hljs-string">&#x27;1&#x27;</span><span class="hljs-built_in">,name</span>:<span class="hljs-string">&#x27;json&#x27;</span>&#125;,<span class="hljs-built_in">&#123;id</span>:<span class="hljs-string">&#x27;2&#x27;</span><span class="hljs-built_in">,name</span>:<span class="hljs-string">&#x27;book&#x27;</span>&#125; ]<br><span class="hljs-keyword">let</span> arr2 = [<span class="hljs-built_in">&#123;id</span>:<span class="hljs-string">&#x27;1&#x27;</span><span class="hljs-built_in">,name</span>:<span class="hljs-string">&#x27;json&#x27;</span>,age:<span class="hljs-string">&#x27;15&#x27;</span>&#125;,<span class="hljs-built_in">&#123;id</span>:<span class="hljs-string">&#x27;2&#x27;</span><span class="hljs-built_in">,name</span>:<span class="hljs-string">&#x27;book&#x27;</span>,age:<span class="hljs-string">&#x27;16&#x27;</span>&#125;,<span class="hljs-built_in">&#123;id</span>:<span class="hljs-string">&#x27;3&#x27;</span><span class="hljs-built_in">,name</span>:<span class="hljs-string">&#x27;ani&#x27;</span>,age:<span class="hljs-string">&#x27;17&#x27;</span>&#125;] <br><br>//ES6的方法<br><span class="hljs-keyword">let</span> add = arr2<span class="hljs-built_in">.filter</span>(<span class="hljs-type">item</span> =&gt; !arr1.<span class="hljs-keyword">some</span>(ele=&gt;ele<span class="hljs-built_in">.id</span>===<span class="hljs-type">item</span><span class="hljs-built_in">.id</span>));<br>console.log(add)<br></code></pre></td></tr></table></figure><h2 id="关于腾讯云下载的问题-视频"><a href="#关于腾讯云下载的问题-视频" class="headerlink" title="关于腾讯云下载的问题(视频)"></a>关于腾讯云下载的问题(视频)</h2><p>  腾讯云：window.open(url?download_name&#x3D;xxxx.mp4)</p><h2 id="flex布局文字换行"><a href="#flex布局文字换行" class="headerlink" title="flex布局文字换行"></a>flex布局文字换行</h2><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs arduino">包裹文字的div<br>overflow-wrap: <span class="hljs-keyword">break</span>-<span class="hljs-type">word</span>;<br><span class="hljs-type">word</span>-<span class="hljs-keyword">break</span>: <span class="hljs-keyword">break</span>-<span class="hljs-type">word</span>;  <span class="hljs-comment">//兼容IE</span><br><br>顶层父级加上hidden<br>overflow:hidden<br></code></pre></td></tr></table></figure><p>…后续更新</p>]]></content>
    
    
    <categories>
      
      <category>project</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>升级package.json中的包版本</title>
    <link href="/hexo-blog/2021/09/03/tools/npmUpdate/"/>
    <url>/hexo-blog/2021/09/03/tools/npmUpdate/</url>
    
    <content type="html"><![CDATA[<h2 id="安装-使用"><a href="#安装-使用" class="headerlink" title="安装+使用"></a>安装+使用</h2><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-built_in">npm</span> install -g <span class="hljs-built_in">npm</span>-check-updates<br>Or  (cnpm,yarn,pnpm)<br><br>使用更新<br>执行命令=<span class="hljs-function">=&gt;</span>ncu<br></code></pre></td></tr></table></figure><h2 id="特别说明-缓存问题"><a href="#特别说明-缓存问题" class="headerlink" title="特别说明(缓存问题)"></a>特别说明(缓存问题)</h2><ol><li>vite –force  启动清除缓存</li><li>手动删除node_modules&#x2F;.vite</li></ol>]]></content>
    
    
    <categories>
      
      <category>npm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>npm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vue3.xx</title>
    <link href="/hexo-blog/2021/06/14/vue/Vue-fn/"/>
    <url>/hexo-blog/2021/06/14/vue/Vue-fn/</url>
    
    <content type="html"><![CDATA[<h2 id="Vue3-安装"><a href="#Vue3-安装" class="headerlink" title="Vue3.安装"></a>Vue3.安装</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">vue create <span class="hljs-tag">&lt;<span class="hljs-name">project_name</span>&gt;</span> (根据提示进行选择)<br></code></pre></td></tr></table></figure><h2 id="关于Vite"><a href="#关于Vite" class="headerlink" title="关于Vite"></a>关于Vite</h2><p>序言：比肩webpack的打包工具，Vite能够显著提升前端开发体验<br><a href="https://cn.vitejs.dev/guide/#command-line-interface">地址</a></p><a id="more"></a><h2 id="Vite工具-Vue3-xx"><a href="#Vite工具-Vue3-xx" class="headerlink" title="Vite工具+Vue3.xx"></a>Vite工具+Vue3.xx</h2><h3 id="Vite"><a href="#Vite" class="headerlink" title="Vite"></a>Vite</h3><ol><li>安装（node版本需要大于等于12.0.0）<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-built_in">npm</span> init @vitejs/app<br>OR<br>yarn create @vitejs/app<br>...会有相关的提示信息<br></code></pre></td></tr></table></figure></li><li>启动+打包<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">npm dev <span class="hljs-keyword">OR </span>yarn dev<br><br>npm <span class="hljs-keyword">build </span><span class="hljs-keyword">OR </span>yarn <span class="hljs-keyword">build</span><br></code></pre></td></tr></table></figure></li><li>关于 vite.config.js<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs dart">地址：https:<span class="hljs-comment">//cn.vitejs.dev/config/</span><br><br>默认配置：(简单配置)<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>&#123;<br>    root:<span class="hljs-string">&quot;&quot;</span>,  <span class="hljs-comment">//</span><br>    <span class="hljs-keyword">base</span>:<span class="hljs-string">&#x27;&#x27;</span>,<br>    mode:<span class="hljs-string">&#x27;&#x27;</span>,<br>    publicDir:<span class="hljs-string">&#x27;&#x27;</span>,<br>    server:&#123;<br>        host:<span class="hljs-string">&#x27;&#x27;</span>,  <span class="hljs-comment">//主机IP地址</span><br>        port:<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-comment">//端口地址</span><br>        open:<span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">//自动打开--当此值微字符串时，会被当作URL的路径名</span><br>    &#125;<br>    ....<br>&#125;<br><br></code></pre></td></tr></table></figure></li></ol><h3 id="Vite-vue3-xx"><a href="#Vite-vue3-xx" class="headerlink" title="Vite+vue3.xx"></a>Vite+vue3.xx</h3><ol><li><p>通过vite工具构建<br>npm init @vitejs&#x2F;app OR yarn create @vitejs&#x2F;app</p></li><li><p>vue方式构建<br>npm create vite-app <project-name><br>OR<br>yarn create vite-app <project-name></p></li><li><p>当然自己要装vue-router vuex 新建vite.config.js</p></li></ol><h2 id="UI-组件库的引入（element-plus）"><a href="#UI-组件库的引入（element-plus）" class="headerlink" title="UI 组件库的引入（element-plus）"></a>UI 组件库的引入（element-plus）</h2><ol><li><p>安装</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">npm install <span class="hljs-keyword">element</span>-plus <span class="hljs-comment">--save</span><br>OR<br>yarn <span class="hljs-built_in">add</span> <span class="hljs-keyword">element</span>-plus -S<br></code></pre></td></tr></table></figure></li><li><p>使用</p></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; createApp &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ElementPlus</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;element-plus&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;element-plus/lib/theme-chalk/index.css&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span>;<br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)<br>app.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">ElementPlus</span>)<br>app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>)<br></code></pre></td></tr></table></figure><ol start="3"><li><p>基于webpack的按需引入</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-number">1.</span> 安装按需引入的插件<br>npm install babel-plugin-<span class="hljs-keyword">import</span> -D<br><span class="hljs-keyword">OR</span> <br>yarn <span class="hljs-keyword">add</span> babel-plugin-<span class="hljs-keyword">import</span> -D<br><br><br><span class="hljs-number">2.</span> 修改babel.config.js<br>module.exports = &#123;<br>  plugins: [<br>    [<br>      &quot;import&quot;,<br>      &#123;<br>        libraryName: <span class="hljs-string">&#x27;element-plus&#x27;</span>,<br>        customStyleName: (<span class="hljs-type">name</span>) =&gt; &#123;<br>          <span class="hljs-type">name</span> = <span class="hljs-type">name</span>.<span class="hljs-keyword">slice</span>(<span class="hljs-number">3</span>)<br>          <span class="hljs-keyword">return</span> `element-plus/packages/theme-chalk/src/$&#123;<span class="hljs-type">name</span>&#125;.scss`;<br>        &#125;,<br>      &#125;,<br>    ],<br>  ],<br>&#125;;<br></code></pre></td></tr></table></figure></li><li><p>基于vite的按需引入</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-number">1.</span> 安装<br>npm install vite-plugin-style-<span class="hljs-keyword">import</span> -D<br><span class="hljs-variable constant_">OR</span><br>yarn add vite-plugin-style-<span class="hljs-keyword">import</span> -D<br><br><span class="hljs-number">2.</span> 修改vite.<span class="hljs-property">config</span>.<span class="hljs-property">js</span><br><span class="hljs-keyword">import</span> &#123; defineConfig &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vite&#x27;</span><br><span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@vitejs/plugin-vue&#x27;</span><br><span class="hljs-keyword">import</span> styleImport <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vite-plugin-style-import&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>(&#123;<br>  <span class="hljs-attr">plugins</span>: [<br>    <span class="hljs-title function_">vue</span>(),<br>    <span class="hljs-title function_">styleImport</span>(&#123;<br>      <span class="hljs-attr">libs</span>: [&#123;<br>        <span class="hljs-attr">libraryName</span>: <span class="hljs-string">&#x27;element-plus&#x27;</span>,<br>        <span class="hljs-attr">esModule</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">ensureStyleFile</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">resolveStyle</span>: <span class="hljs-function">(<span class="hljs-params">name</span>) =&gt;</span> &#123;<br>          name = name.<span class="hljs-title function_">slice</span>(<span class="hljs-number">3</span>)<br>          <span class="hljs-keyword">return</span> <span class="hljs-string">`element-plus/packages/theme-chalk/src/<span class="hljs-subst">$&#123;name&#125;</span>.scss`</span>;<br>        &#125;,<br>        <span class="hljs-attr">resolveComponent</span>: <span class="hljs-function">(<span class="hljs-params">name</span>) =&gt;</span> &#123;<br>          <span class="hljs-keyword">return</span> <span class="hljs-string">`element-plus/lib/<span class="hljs-subst">$&#123;name&#125;</span>`</span>;<br>        &#125;,<br>      &#125;]<br>    &#125;)<br>  ]<br>&#125;)<br><span class="hljs-number">3.</span> 注册组件<br><span class="hljs-keyword">import</span> &#123; createApp &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">ElButton</span>, <span class="hljs-title class_">ElSelect</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;element-plus&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span>;<br><span class="hljs-comment">// 如果要使用.scss样式文件，则需要引入base.scss文件</span><br><span class="hljs-comment">// import &#x27;element-plus/packages/theme-chalk/src/base.scss&#x27;</span><br><br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)<br>app.<span class="hljs-title function_">component</span>(<span class="hljs-title class_">ElButton</span>.<span class="hljs-property">name</span>, <span class="hljs-title class_">ElButton</span>);<br>app.<span class="hljs-title function_">component</span>(<span class="hljs-title class_">ElSelect</span>.<span class="hljs-property">name</span>, <span class="hljs-title class_">ElSelect</span>);<br><br><span class="hljs-comment">/* or</span><br><span class="hljs-comment"> * app.use(ElButton)</span><br><span class="hljs-comment"> * app.use(ElSelect)</span><br><span class="hljs-comment"> */</span><br><br>app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>)<br><br>...具体细节可以阅读element-plus官网<br><br></code></pre></td></tr></table></figure></li></ol>]]></content>
    
    
    <categories>
      
      <category>Vue3.0</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Vue3.0</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>乾坤微前端</title>
    <link href="/hexo-blog/2021/04/20/tools/qiankun/"/>
    <url>/hexo-blog/2021/04/20/tools/qiankun/</url>
    
    <content type="html"><![CDATA[<h2 id="文档地址"><a href="#文档地址" class="headerlink" title="文档地址"></a><a href="https://qiankun.umijs.org/zh">文档地址</a></h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">yarn <span class="hljs-keyword">add </span>qiankun <span class="hljs-comment"># 或者 npm i qiankun -S</span><br></code></pre></td></tr></table></figure><a id="more"></a><h3 id="1-主应用-不限技术栈"><a href="#1-主应用-不限技术栈" class="headerlink" title="1.主应用(不限技术栈)"></a>1.主应用(不限技术栈)</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs php">import &#123; registerMicroApps, start &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;qiankun&#x27;</span>;<br><span class="hljs-title function_ invoke__">registerMicroApps</span>([<br>  &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;react app&#x27;</span>, // app name registered<br>    <span class="hljs-attr">entry</span>: <span class="hljs-string">&#x27;//localhost:7100&#x27;</span>,<br>    <span class="hljs-attr">container</span>: <span class="hljs-string">&#x27;#yourContainer&#x27;</span>,<br>    <span class="hljs-attr">activeRule</span>: <span class="hljs-string">&#x27;/yourActiveRule&#x27;</span>,<br>    //entry为微应用项目启动的地址<br>    //container 为html页面上id相同的匹配标签<br>    //如果是hash模式则 <span class="hljs-attr">activeRule</span>:<span class="hljs-string">&#x27;#/yourActiveRule&#x27;</span><br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;vue app&#x27;</span>,<br>    <span class="hljs-attr">entry</span>: &#123; <span class="hljs-attr">scripts</span>: [<span class="hljs-string">&#x27;//localhost:7100/main.js&#x27;</span>] &#125;,<br>    <span class="hljs-attr">container</span>: <span class="hljs-string">&#x27;#yourContainer2&#x27;</span>,<br>    <span class="hljs-attr">activeRule</span>: <span class="hljs-string">&#x27;/yourActiveRule2&#x27;</span>,<br>  &#125;,<br>]);<br><br><br><span class="hljs-title function_ invoke__">start</span>();<br><br><span class="hljs-comment">//如果主应用的技术栈是vue的话</span><br>vue.<span class="hljs-variable">$nextTick</span>(()=&gt;&#123;<br>   <span class="hljs-title function_ invoke__">start</span>() <br>&#125;)<br></code></pre></td></tr></table></figure><h3 id="2微应用（vue-react-angular）-当前Vue项目"><a href="#2微应用（vue-react-angular）-当前Vue项目" class="headerlink" title="2微应用（vue&#x2F;react&#x2F;angular）&#x3D;&#x3D;&gt;当前Vue项目"></a>2微应用（vue&#x2F;react&#x2F;angular）&#x3D;&#x3D;&gt;当前Vue项目</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Vue2</span>.<span class="hljs-property">x</span>  项目<br><span class="hljs-number">1.</span>在src目录新增public-path.<span class="hljs-property">js</span><br><span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">__POWERED_BY_QIANKUN__</span>) &#123;<br>  __webpack_public_path__ = <span class="hljs-variable language_">window</span>.<span class="hljs-property">__INJECTED_PUBLIC_PATH_BY_QIANKUN__</span>;<br>&#125;<br><br><br><span class="hljs-number">2</span>入口文件main.<span class="hljs-property">js</span><br><br>+ <span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./public-path&#x27;</span>;<br>+ <span class="hljs-keyword">import</span> <span class="hljs-title class_">VueRouter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue-router&#x27;</span>;<br>+ <span class="hljs-keyword">import</span> routes <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./router&#x27;</span>;<br>+ <span class="hljs-keyword">let</span> router = <span class="hljs-literal">null</span>,instance = <span class="hljs-literal">null</span>;<br>+<span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params">props = &#123;&#125;</span>)&#123;<br>    <span class="hljs-keyword">const</span> &#123;container&#125; = props;<br>    router = <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueRouter</span>(&#123;<br>        <span class="hljs-attr">base</span>:<span class="hljs-variable language_">window</span>.<span class="hljs-property">__POWERED_BY_QIANKUN__</span> ? <span class="hljs-string">&#x27;前缀路径&#x27;</span> :<span class="hljs-string">&#x27;/&#x27;</span>,<br>        <span class="hljs-attr">mode</span>:<span class="hljs-string">&#x27;hash&#x27;</span>  <span class="hljs-comment">//目前是主微都是hash模式</span><br>        routes<br>    &#125;)<br>    <br>    instance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>        router,<br>        store,<br>        <span class="hljs-attr">render</span>:<span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span><span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>    &#125;).$mount(container ? container.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#app&#x27;</span>) : <span class="hljs-string">&#x27;#app&#x27;</span>)<br>&#125;<br><span class="hljs-comment">//独立运行时</span><br><span class="hljs-keyword">if</span>(!<span class="hljs-variable language_">window</span>.<span class="hljs-property">__POWERED_BY_QIANKUN__</span>)&#123;<br>    <span class="hljs-title function_">render</span>();<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">bootstrap</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;[vue] vue app bootstraped&#x27;</span>);<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">mount</span>(<span class="hljs-params">props</span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;[vue] props form main framework&#x27;</span>,props);<br>    <span class="hljs-title function_">render</span>(props);<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">unmount</span>(<span class="hljs-params"></span>)&#123;<br>    instance.$destory();<br>    instance.<span class="hljs-property">$el</span>.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&#x27;&#x27;</span>;<br>    instace = <span class="hljs-literal">null</span>;<br>    router = <span class="hljs-literal">null</span>;<br>&#125;<br><br><br><span class="hljs-number">3.</span>打包配置修改vue.<span class="hljs-property">config</span>.<span class="hljs-property">js</span><br><span class="hljs-keyword">const</span> &#123;name&#125; =  <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;./package&quot;</span>);<br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>    <span class="hljs-attr">devServer</span>:&#123;<br>        <span class="hljs-attr">headers</span>:&#123;<br>            <span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>:<span class="hljs-string">&quot;*&quot;</span><br>        &#125;<br>    &#125;,<br>    <span class="hljs-attr">configureWebPack</span>:&#123;<br>        <span class="hljs-attr">output</span>:&#123;<br>            <span class="hljs-attr">library</span>:<span class="hljs-string">`<span class="hljs-subst">$&#123;name&#125;</span>-[name]`</span>,<br>            <span class="hljs-attr">libraryTarget</span>:<span class="hljs-string">&#x27;umd&#x27;</span>, <span class="hljs-comment">//把微应用打包成umd库格式</span><br>            <span class="hljs-attr">jsonpFunction</span>:<span class="hljs-string">`webpackJsonp_<span class="hljs-subst">$&#123;name&#125;</span>`</span>,<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="微应用需要在路由前面添加base前缀Or遍历路由添加前缀"><a href="#微应用需要在路由前面添加base前缀Or遍历路由添加前缀" class="headerlink" title="微应用需要在路由前面添加base前缀Or遍历路由添加前缀"></a>微应用需要在路由前面添加base前缀Or遍历路由添加前缀</h4>]]></content>
    
    
    <categories>
      
      <category>微前端</category>
      
    </categories>
    
    
    <tags>
      
      <tag>微前端</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>控制台console</title>
    <link href="/hexo-blog/2020/08/10/tools/console/"/>
    <url>/hexo-blog/2020/08/10/tools/console/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>console</p>          </div><h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><ol><li>console.log()</li><li>console.info()</li><li>console.debug()</li><li>consle.warn()</li><li>console.error()<a id="more"></a></li></ol><h2 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h2><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-built_in">console</span>.table()以表格的形式输出数据。这个方法最适用的场景我觉得是对象的数组<br><span class="hljs-built_in">console</span>.assert() 条件性输出,条件不满足时才会输出<br><span class="hljs-built_in">console</span>.group() 为输出内容添加一定的缩进来整理好内容<br><span class="hljs-built_in">console</span>.trace() 追踪函数的执行栈<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">count</span>() 统计代码的执行次数<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">time</span>() 记录代码执行的耗时，以毫秒（ms）为单位<br><br>替换字符串 - string substitution<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;%o is xxxxx %f xxx&quot;</span>,&#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;Sean&quot;</span>&#125;,<span class="hljs-number">18</span>,<span class="hljs-number">99.5</span>)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;%c superMan&quot;</span>,<span class="hljs-string">&quot;color:red;xxxxx&quot;</span>);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>console</category>
      
    </categories>
    
    
    <tags>
      
      <tag>console</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Input预览图片美化上传框</title>
    <link href="/hexo-blog/2020/08/10/css/Input/"/>
    <url>/hexo-blog/2020/08/10/css/Input/</url>
    
    <content type="html"><![CDATA[<h2 id="美化上传input-type-”file”"><a href="#美化上传input-type-”file”" class="headerlink" title="美化上传input type&#x3D;”file”"></a>美化上传input type&#x3D;”file”</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">html</span>:<br>    &lt;div class=<span class="hljs-string">&quot;logo&quot;</span>&gt;<br>        &lt;input type=<span class="hljs-string">&quot;file&quot;</span> accept=<span class="hljs-string">&quot;image/*&quot;</span> capture=<span class="hljs-string">&quot;camera&quot;</span> @change=<span class="hljs-string">&quot;handleChange&quot;</span>/&gt;<br>    &lt;/div&gt;<br>    <br>css:<br>    .logo &#123;<br>      <span class="hljs-attribute">position</span>: relative;<br>      <span class="hljs-attribute">width</span>: <span class="hljs-number">46px</span>;<br>      <span class="hljs-attribute">height</span>: <span class="hljs-number">46px</span>;<br>      <span class="hljs-attribute">display</span>: inline-block;<br>      <span class="hljs-attribute">overflow</span>: hidden;<br>      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#ffc8c8</span>;<br>  //<span class="hljs-selector-tag">input</span>样式<br>  <span class="hljs-selector-tag">input</span> &#123;<br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">100px</span>;<br>    <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">filter</span>: <span class="hljs-built_in">alpha</span>(opacity=<span class="hljs-number">0</span>);  //兼容IE<br>    <span class="hljs-attribute">cursor</span>: pointer; <br>  &#125;<br>  //图片预览样式<br>  <span class="hljs-selector-id">#avator</span> &#123;<br>    <span class="hljs-attribute">display</span>: inline-block;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;<br>  &#125;<br>&#125;  <br><br></code></pre></td></tr></table></figure><a id="more"></a><h2 id="new-FileReader-实现base64预览"><a href="#new-FileReader-实现base64预览" class="headerlink" title="new FileReader() 实现base64预览"></a>new FileReader() 实现base64预览</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">handleChange</span>(<span class="hljs-params">event</span>) &#123;<br>      <span class="hljs-keyword">let</span> file = event.<span class="hljs-property">target</span>.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>];<br>      <span class="hljs-comment">// 新建文件读取器</span><br>      <span class="hljs-keyword">let</span> reader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>();<br>      reader.<span class="hljs-title function_">readAsDataURL</span>(file);<br>      reader.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;<br>        <span class="hljs-comment">//  e.target.result = data:image/jpeg;base64,/9j/4AAQSk</span><br>        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;avator&quot;</span>).<span class="hljs-property">src</span> = e.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>;<br>      &#125;;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(file);<br>    &#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>JavaScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JS的一些方法</title>
    <link href="/hexo-blog/2020/07/14/javascript/js/"/>
    <url>/hexo-blog/2020/07/14/javascript/js/</url>
    
    <content type="html"><![CDATA[<h3 id="根据数字生成数组"><a href="#根据数字生成数组" class="headerlink" title="根据数字生成数组"></a>根据数字生成数组</h3><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">let arr = <span class="hljs-built_in">Array</span>.<span class="hljs-keyword">from</span>(&#123;length:<span class="hljs-number">30</span>&#125;,<span class="hljs-function"><span class="hljs-params">(v,k)</span>=&gt;</span>k+<span class="hljs-number">1</span>)<br><br>let arr1 = <span class="hljs-built_in">Array</span>.<span class="hljs-keyword">from</span>(<span class="hljs-built_in">Array</span>(<span class="hljs-number">30</span>),<span class="hljs-function"><span class="hljs-params">(v,k)</span>=&gt;</span>k+<span class="hljs-number">1</span>)<br><br></code></pre></td></tr></table></figure><a id="more"></a><h3 id="JS-生成UUID"><a href="#JS-生成UUID" class="headerlink" title="JS 生成UUID"></a>JS 生成UUID</h3><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs arcade">eg:<span class="hljs-number">1</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">uuid</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">var</span> s = [];<br>    <span class="hljs-keyword">var</span> hexDigits = <span class="hljs-string">&#x27;0123456789abcdef&#x27;</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;i&lt;<span class="hljs-number">36</span>;i++)&#123;<br>        s[i] = hexDigits.substr(Math.<span class="hljs-built_in">floor</span>(Math.<span class="hljs-built_in">random</span>()*<span class="hljs-number">0x10</span>),<span class="hljs-number">1</span>)<br>    &#125;<br>    s[<span class="hljs-number">14</span>] = <span class="hljs-string">&#x27;4&#x27;</span>;<br>    s[<span class="hljs-number">19</span>] = hexDigits.substr((s[<span class="hljs-number">19</span>] &amp; <span class="hljs-number">0x3</span>) | <span class="hljs-number">0x8</span>, <span class="hljs-number">1</span>)<br>    s[<span class="hljs-number">8</span>] = s[<span class="hljs-number">13</span>] = s[<span class="hljs-number">18</span>] = s[<span class="hljs-number">23</span>] = <span class="hljs-string">&quot;-&quot;</span>;<br>    <span class="hljs-keyword">var</span> uuid = s.join(<span class="hljs-string">&quot;&quot;</span>);<br>    <span class="hljs-keyword">return</span> uuid;<br>&#125;<br><br><br>eg2:<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">guid</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&#x27;</span>.<span class="hljs-built_in">replace</span>(<span class="hljs-regexp">/[xy]/g</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>)&#123;<br>        <span class="hljs-keyword">var</span> r = Math.<span class="hljs-built_in">random</span>()*<span class="hljs-number">16</span>|<span class="hljs-number">0</span>,v=c==<span class="hljs-string">&#x27;x&#x27;</span>?r:(r&amp;<span class="hljs-number">0x3</span>|<span class="hljs-number">0x8</span>)<br>        <span class="hljs-keyword">return</span> v.toString(<span class="hljs-number">16</span>)<br>    &#125;)<br>&#125;<br><br>eg3:<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">guid</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">S4</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span> (((<span class="hljs-number">1</span>+Math.<span class="hljs-built_in">random</span>())*<span class="hljs-number">0x10000</span>)|<span class="hljs-number">0</span>).toString(<span class="hljs-number">16</span>).substring(<span class="hljs-number">1</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> (S4()+S4()+<span class="hljs-string">&quot;-&quot;</span>+S4()+<span class="hljs-string">&quot;-&quot;</span>+S4()+<span class="hljs-string">&quot;-&quot;</span>+S4()+<span class="hljs-string">&quot;-&quot;</span>+S4()+S4()+S4());<br>&#125;<br>eg4:<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">getUuid</span>(<span class="hljs-params">len = <span class="hljs-number">32</span></span>)&#123;<br>    const S4 = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> Math.<span class="hljs-built_in">random</span>().toString(<span class="hljs-number">16</span>).substring(<span class="hljs-number">2</span>);<br>    let res = <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-keyword">while</span>(res.<span class="hljs-built_in">length</span> &lt; len)&#123;<br>        res += S4().substring(<span class="hljs-number">0</span>,len-res.<span class="hljs-built_in">length</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="二维数组"><a href="#二维数组" class="headerlink" title="二维数组"></a>二维数组</h3><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs inform7">结构：<span class="hljs-comment">[ <span class="hljs-comment">[1,2,3,4]</span>,<span class="hljs-comment">[5,6,7,8]</span> ]</span> ... <span class="hljs-comment">[ <span class="hljs-comment">[]</span>, <span class="hljs-comment">[]</span>, <span class="hljs-comment">[]</span> ]</span><br><br>第一种方法：<br>let a =<span class="hljs-comment">[1,2,3,4]</span>;<br><br>for(let i=0; a.length;i++)&#123;<br>    a<span class="hljs-comment">[i]</span> *= 5/num<br>&#125;<br><br>第二种方法：<br>a.map(e=&gt;e * 5)<br><br>第三种方法：<br>function scaleMultiply(arr,multiplier)&#123;<br>    for(let i = 0;i&lt; arr.length;i++)&#123;<br>        arr<span class="hljs-comment">[i]</span> *= multiplier<br>    &#125;<br>    return arr;<br>&#125;<br>scaleMultiply(<span class="hljs-comment">[1,2,3,4]</span>,6); //用法<br><br></code></pre></td></tr></table></figure><h3 id="矩阵运算"><a href="#矩阵运算" class="headerlink" title="矩阵运算"></a>矩阵运算</h3><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs inform7">function reverseMatrix(sourceArr) &#123;<br>      let reversedArr = <span class="hljs-comment">[]</span>;<br>      for (let n = 0; n &lt; sourceArr<span class="hljs-comment">[0]</span>.length; n++) &#123;<br>        reversedArr<span class="hljs-comment">[n]</span> = <span class="hljs-comment">[]</span>;<br>        for (let j = 0; j &lt; sourceArr.length; j++) &#123;<br>          reversedArr<span class="hljs-comment">[n]</span><span class="hljs-comment">[j]</span> = sourceArr<span class="hljs-comment">[j]</span><span class="hljs-comment">[n]</span>;<br>        &#125;<br>      &#125;<br>      return reversedArr;<br>    &#125;,<br>    <br>输入：<span class="hljs-comment">[<span class="hljs-comment">[1,2,3]</span>,<span class="hljs-comment">[2,3,4]</span>,<span class="hljs-comment">[5,6,7]</span>]</span><br>输出：<span class="hljs-comment">[<span class="hljs-comment">[1,2,4]</span>,<span class="hljs-comment">[2,3,6]</span>,<span class="hljs-comment">[3,4,7]</span>]</span> <br><br></code></pre></td></tr></table></figure><h2 id="获取文本的确切宽度"><a href="#获取文本的确切宽度" class="headerlink" title="获取文本的确切宽度"></a>获取文本的确切宽度</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getActualWidthOfChars</span>(<span class="hljs-params">text,options = &#123;&#125;</span>)&#123;<br>    <span class="hljs-keyword">const</span> &#123;size = <span class="hljs-number">14</span>,family = <span class="hljs-string">&#x27;Microsoft YaHei&#x27;</span>&#125; = options;<br>    <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;canvas&#x27;</span>);<br>    <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&quot;2d&quot;</span>);<br>    ctx.<span class="hljs-property">font</span> = <span class="hljs-string">`<span class="hljs-subst">$&#123;size&#125;</span>px <span class="hljs-subst">$&#123;family&#125;</span>`</span>;<br>    <span class="hljs-keyword">const</span> metrics = ctx.<span class="hljs-title function_">measureText</span>(text);<br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(metrics.<span class="hljs-property">actualBoundingBoxLeft</span>) + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(metrics.<span class="hljs-property">actualBoundingBoxRight</span>);<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>JavaScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CSS的一些用法</title>
    <link href="/hexo-blog/2020/07/14/css/css/"/>
    <url>/hexo-blog/2020/07/14/css/css/</url>
    
    <content type="html"><![CDATA[<h3 id="flex-文字换行"><a href="#flex-文字换行" class="headerlink" title="flex 文字换行"></a>flex 文字换行</h3><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs arduino">包裹文字的div<br>overflow-wrap: <span class="hljs-keyword">break</span>-<span class="hljs-type">word</span>;<br><span class="hljs-type">word</span>-<span class="hljs-keyword">break</span>: <span class="hljs-keyword">break</span>-<span class="hljs-type">word</span>;  <span class="hljs-comment">//兼容IE</span><br><br>顶层父级加上hidden<br>overflow:hidden<br></code></pre></td></tr></table></figure><h3 id="css实现渐变的dashed"><a href="#css实现渐变的dashed" class="headerlink" title="css实现渐变的dashed"></a>css实现渐变的dashed</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br><span class="hljs-attribute">height</span>: <span class="hljs-number">1px</span>;<br><span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">linear-gradient</span>(to right, <span class="hljs-number">#ccc</span> <span class="hljs-number">0%</span>, <span class="hljs-number">#ccc</span> <span class="hljs-number">50%</span>, transparent <span class="hljs-number">50%</span>);<br><span class="hljs-attribute">background-size</span>: <span class="hljs-number">8px</span> <span class="hljs-number">1px</span>;<br><span class="hljs-attribute">background-repeat</span>: repeat-x;<br></code></pre></td></tr></table></figure><h3 id="解决img-src为空出现的边框"><a href="#解决img-src为空出现的边框" class="headerlink" title="解决img src为空出现的边框"></a>解决img src为空出现的边框</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">img</span><span class="hljs-selector-attr">[src=<span class="hljs-string">&quot;&quot;</span>]</span>,<br><span class="hljs-selector-tag">img</span><span class="hljs-selector-pseudo">:not</span>(<span class="hljs-selector-attr">[src]</span>)&#123;<br>          <span class="hljs-attribute">opacity</span>:<span class="hljs-number">0</span>;<br>     &#125;<br><br></code></pre></td></tr></table></figure><a id="more"></a><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-pseudo">:root</span>&#123;<br>    <span class="hljs-attr">--some-thing</span>:<span class="hljs-number">#ececec</span>;<br>    <span class="hljs-attr">--some-size--px</span>:<span class="hljs-number">40px</span>;<br>&#125;<br><br><br><span class="hljs-selector-class">.class-variables</span>&#123;<br>    <span class="hljs-attr">--some-color</span>:<span class="hljs-number">#da7800</span>;<br>    <span class="hljs-attr">--some-keword</span>:italic;<br>    <span class="hljs-attr">--some-size</span>:<span class="hljs-number">1.25em</span>;<br>    <span class="hljs-attribute">color</span>:<span class="hljs-built_in">var</span>(--some-color);<br>    <span class="hljs-attribute">font-size</span>:<span class="hljs-built_in">var</span>(--some-size);<br>    <span class="hljs-attribute">font-size</span>:<span class="hljs-built_in">var</span>(--some-size--px);<br>&#125;<br><br><span class="hljs-attribute">text-transform</span>：实现英文首字母大写，全部文字大写，小写<br><br>CSS实现<span class="hljs-selector-tag">input</span>框的光标变色<br> <span class="hljs-attribute">caret-color</span>:red; <br><br></code></pre></td></tr></table></figure><h3 id="文本省略"><a href="#文本省略" class="headerlink" title="文本省略"></a>文本省略</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-number">1</span>、单行<br><span class="hljs-attribute">text-overflow</span>: ellipsis;<br><span class="hljs-attribute">white-space</span>: nowrap;<br><span class="hljs-attribute">overflow</span>: hidden;<br><br><span class="hljs-number">2</span>、多行(存在兼容性)<br><span class="hljs-attribute">display</span>: -webkit-box;<br>-webkit-box-orient: vertical;<br>-webkit-<span class="hljs-selector-tag">line</span>-clamp: <span class="hljs-number">3</span>;  //可以自主选择<br><span class="hljs-attribute">overflow</span>: hidden;<br></code></pre></td></tr></table></figure><h3 id="快速重置表单元素"><a href="#快速重置表单元素" class="headerlink" title="快速重置表单元素"></a>快速重置表单元素</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css">(存在兼容性)<br><span class="hljs-selector-tag">button</span>,<span class="hljs-selector-tag">input</span>...&#123;<br>    <span class="hljs-attribute">all</span>:unset;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="让-HTML-识别-string-里的-‘-n’-并换行"><a href="#让-HTML-识别-string-里的-‘-n’-并换行" class="headerlink" title="让 HTML 识别 string 里的 ‘\n’ 并换行"></a>让 HTML 识别 string 里的 ‘\n’ 并换行</h3><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs d">让 HTML 识别 <span class="hljs-built_in">string</span> 里的 <span class="hljs-string">&#x27;\n&#x27;</span> 并换行<br><span class="hljs-keyword">body</span> &#123;<br>  white-space: pre-line;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="图像灰度"><a href="#图像灰度" class="headerlink" title="图像灰度"></a>图像灰度</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><br><span class="hljs-selector-tag">img</span>&#123;<br>    <span class="hljs-attribute">filter</span>:gray;<br>    -webkit-<span class="hljs-attribute">filter</span>:<span class="hljs-built_in">grayscale</span>(<span class="hljs-number">1</span>);<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>css</category>
      
    </categories>
    
    
    <tags>
      
      <tag>css</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ES6 Map和Set</title>
    <link href="/hexo-blog/2020/02/25/javascript/mapSet/"/>
    <url>/hexo-blog/2020/02/25/javascript/mapSet/</url>
    
    <content type="html"><![CDATA[<h2 id="Map和Set的区别"><a href="#Map和Set的区别" class="headerlink" title="Map和Set的区别"></a>Map和Set的区别</h2><p>区别：<br>1.set所得元素只有key没有value，value就是key<br>2.不允许出现键值重复<br>3.所有元素都会被自动排序<br>4.不能通过迭代器来改变set的值，因为setZ的值就是键<br>—分界点—-<br>1.map所有元素都是键+值存在<br>2.不允许键重复<br>3.所有的元素是通过键进行自动排序的</p><a id="more"></a><h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs livescript"><span class="hljs-number">1</span>、<span class="hljs-keyword">map</span>转换为数组（使用扩展运算符）<br><span class="hljs-keyword">const</span> arr =[ [&#123;a:<span class="hljs-number">1</span>&#125;,<span class="hljs-number">111</span>],[b:<span class="hljs-number">222</span>]]<br>[...<span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>(arr)]<br><span class="hljs-number">2</span>、<span class="hljs-built_in">Map</span>与对象的互换<br><span class="hljs-keyword">const</span> obj =&#123;&#125;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">map</span> = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>([a,<span class="hljs-number">111</span>],[b,<span class="hljs-number">222</span>])<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> [key,value] <span class="hljs-keyword">of</span> <span class="hljs-keyword">map</span>)&#123;<br>    obj[key] =value<br>&#125;<br>console.log(obj) <span class="hljs-regexp">//&#123;a:111,b:222&#125;</span><br></code></pre></td></tr></table></figure><h3 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-number">1</span>、数组去重<br>[...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>])]<br><span class="hljs-number">2</span>、合并两个set对象<br><span class="hljs-keyword">let</span> a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>])<br><span class="hljs-keyword">let</span> b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>])<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([...a,...b])<br><span class="hljs-number">3</span>、交集<br><span class="hljs-keyword">let</span> a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>])<br><span class="hljs-keyword">let</span> b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>])<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([...a].<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">x</span>=&gt;</span>b.<span class="hljs-title function_">has</span>(x)))<br><span class="hljs-number">4</span>、差集<br><span class="hljs-keyword">let</span> a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>])<br><span class="hljs-keyword">let</span> b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">4</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>])<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([...a].<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">x</span>=&gt;</span>!b.<span class="hljs-title function_">has</span>(x)))<br></code></pre></td></tr></table></figure><h3 id="闲谈一句v-model实现子组件像父组件传值"><a href="#闲谈一句v-model实现子组件像父组件传值" class="headerlink" title="闲谈一句v-model实现子组件像父组件传值"></a>闲谈一句v-model实现子组件像父组件传值</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//父</span><br>&lt;increase v-model=<span class="hljs-string">&quot;rangeValue&quot;</span>&gt;&lt;/increase&gt;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>&#123;<br>    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span>&#123;<br>            <span class="hljs-attr">rangeValue</span>:<span class="hljs-number">0</span><br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-comment">//子</span><br>&lt;template&gt;<br>     <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;increase&quot;</span>&gt;</span>increase<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="hljs-attr">props</span>: &#123;<br>    <span class="hljs-attr">value</span>: &#123;<br>      <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,<br>      <span class="hljs-attr">default</span>: <span class="hljs-number">0</span><br>    &#125;<br>  &#125;,<br><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">increase</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">&#x27;input&#x27;</span>, xxxx) <br>    &#125;<br>&#125;  <br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>JavaScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ES新特性</title>
    <link href="/hexo-blog/2020/02/24/javascript/es/"/>
    <url>/hexo-blog/2020/02/24/javascript/es/</url>
    
    <content type="html"><![CDATA[<h2 id="ES新特性"><a href="#ES新特性" class="headerlink" title="ES新特性"></a>ES新特性</h2><blockquote><p>ES是国际标准化组织发布的浏览器脚本语言的标准，全名：ECMAScript。<br>ES是JS语言的国际标准，JS是ES的实现。在日常场合，两个词可以互换。<br>ES是JS的子集，它是JS的内容的一部分，一个完整的JS实现是由以下三部分组成：<br>核心（ESMAScript）：规定了JS的语法、类型、语句、关键字、保留字、操作符、对象</p></blockquote><a id="more"></a><h3 id="ES6-ES2015"><a href="#ES6-ES2015" class="headerlink" title="ES6(ES2015)"></a>ES6(ES2015)</h3><p>1.类</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span>&#123;<br>     <span class="hljs-keyword">constructor</span>(name,run) &#123;<br>      <span class="hljs-keyword">this</span>.name = name;<br>      <span class="hljs-keyword">this</span>.run = run;<br>    &#125;<br>    Run() &#123;<br>      console.log(<span class="hljs-string">&#x27;name:&#x27;</span> + <span class="hljs-keyword">this</span>.name + <span class="hljs-string">&#x27;,run:&#x27;</span> + <span class="hljs-keyword">this</span>.run);<br><br>    &#125;<br>&#125;<br><br>let animals = new Animal(<span class="hljs-string">&#x27;Cat&#x27;</span>,<span class="hljs-string">&#x27;Running&#x27;</span>)<br>animals.Run(); <span class="hljs-comment">//name:Cat,run:Running</span><br></code></pre></td></tr></table></figure><p>2.模块化</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> name =<span class="hljs-string">&#x27;Yellow&#x27;</span><br><br><span class="hljs-comment">//test.js</span><br><span class="hljs-keyword">let</span> name = <span class="hljs-string">&#x27;Test&#x27;</span>,age=<span class="hljs-string">&#x27;25&#x27;</span>;<br><span class="hljs-keyword">export</span>&#123;name,age&#125;<br><br><br><span class="hljs-comment">//导出函数</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params">msg</span>)&#123;<br>    <span class="hljs-keyword">return</span> msg<br>&#125;<br><br><span class="hljs-comment">//导入</span><br><span class="hljs-keyword">import</span> &#123;modulesName&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;xxxxx&#x27;</span><br><span class="hljs-keyword">import</span> &#123;moduleA,moduleB&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;xxxx&#x27;</span><br></code></pre></td></tr></table></figure><p>3.箭头函数</p><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs coq">()=&gt;<span class="hljs-number">1</span><br>v=&gt;v+<span class="hljs-number">1</span><br>(a,b)=&gt;a+b<br>()=&gt;&#123;<br>    xxxx<br>&#125;<br></code></pre></td></tr></table></figure><p>4.函数参数默认值(有局限性)</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs actionscript"><br><span class="hljs-keyword">function</span> <span class="hljs-params">(name=<span class="hljs-string">&quot;张三&quot;</span>,color=<span class="hljs-string">&quot;yellow&quot;</span>)</span>&#123;<br>    <span class="hljs-comment">//.....</span><br>&#125;<br><br></code></pre></td></tr></table></figure><p>5.模板字符串</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-string">`<span class="hljs-subst">$&#123;name&#125;</span>在干嘛？`</span><br></code></pre></td></tr></table></figure><p>6.解构赋值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> foo =[<span class="hljs-string">&#x27;one&#x27;</span>,<span class="hljs-string">&#x27;two&#x27;</span>,<span class="hljs-string">&#x27;three&#x27;</span>,<span class="hljs-string">&#x27;four&#x27;</span>]<br><span class="hljs-keyword">let</span> [one,two,three] = foo<br><br><span class="hljs-comment">//如果需要湖绿某些值</span><br><span class="hljs-keyword">let</span> [frist,,,last] = foo<br><br><span class="hljs-keyword">let</span> a,b;<br>[a,b] =[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a) <span class="hljs-comment">//1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b) <span class="hljs-comment">//2</span><br><span class="hljs-comment">//改变默认值</span><br><span class="hljs-keyword">let</span> c,d;<br>[c=<span class="hljs-number">1</span>,d=<span class="hljs-number">6</span>] =[<span class="hljs-number">1</span>]<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(c) <span class="hljs-comment">//1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(d) <span class="hljs-comment">//6</span><br><br><span class="hljs-comment">//交换两个变量的值</span><br><span class="hljs-keyword">let</span> e =<span class="hljs-number">1</span>,f=<span class="hljs-number">2</span>;<br>[e,f] = [f,e]<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e) <span class="hljs-comment">//2</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(f) <span class="hljs-comment">//1</span><br><br><span class="hljs-comment">//获取对象中的值</span><br><span class="hljs-keyword">const</span> stu = &#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;张三&quot;</span>,<br>    <span class="hljs-attr">age</span>:<span class="hljs-number">25</span>,<br>    <span class="hljs-attr">city</span>:<span class="hljs-string">&quot;成都&quot;</span><br>&#125;<br><br><span class="hljs-keyword">const</span> &#123;name,age,city&#125; = stu;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name) <span class="hljs-comment">//张三</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(age) <span class="hljs-comment">//25</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(city) <span class="hljs-comment">//成都</span><br></code></pre></td></tr></table></figure><p>7.延展操作符</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-comment">//姑且自己叫做展开运算符吧</span><br><span class="hljs-number">1</span>、在函数调用/数组构造时, 将数组表达式或者string在语法层面展开；还可以在构造对象时, 将对象表达式按key-value的方式展开<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">x, y, z</span>) &#123;<br>  <span class="hljs-keyword">return</span> x + y + z;<br>&#125;<br>const numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><br><span class="hljs-comment">//不使用延展操作符</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">sum</span>.apply(<span class="hljs-literal">null</span>, numbers));<br><br><span class="hljs-comment">//使用延展操作符</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">sum</span>(...numbers));<span class="hljs-comment">// 6</span><br><br><span class="hljs-comment">//构造数组</span><br>const stuendts = [<span class="hljs-string">&#x27;Jine&#x27;</span>,<span class="hljs-string">&#x27;Tom&#x27;</span>]; <br>const persons = [<span class="hljs-string">&#x27;Tony&#x27;</span>,... stuendts,<span class="hljs-string">&#x27;Aaron&#x27;</span>,<span class="hljs-string">&#x27;Anna&#x27;</span>];<br>conslog.<span class="hljs-built_in">log</span>(persions)<span class="hljs-comment">// [&quot;Tony&quot;, &quot;Jine&quot;, &quot;Tom&quot;, &quot;Aaron&quot;, &quot;Anna&quot;]</span><br><br><span class="hljs-comment">//数组拷贝</span><br><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-keyword">var</span> arr2 = [...arr]; <span class="hljs-comment">// 等同于 arr.slice()</span><br>arr2.<span class="hljs-built_in">push</span>(<span class="hljs-number">4</span>); <br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(arr2)<span class="hljs-comment">//[1, 2, 3, 4]</span><br><br><span class="hljs-comment">//链接多个数组</span><br><span class="hljs-keyword">var</span> arr1 = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>];<br><span class="hljs-keyword">var</span> arr2 = [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-keyword">var</span> arr3 = [...arr1, ...arr2];<span class="hljs-comment">// 将 arr2 中所有元素附加到 arr1 后面并返回</span><br><span class="hljs-comment">//等同于</span><br><span class="hljs-keyword">var</span> arr4 = arr1.concat(arr2);<br><br><span class="hljs-comment">//合并对象</span><br><span class="hljs-keyword">var</span> obj1 = &#123; <span class="hljs-attr">foo</span>: <span class="hljs-string">&#x27;bar&#x27;</span>, <span class="hljs-attr">x</span>: <span class="hljs-number">42</span> &#125;;<br><span class="hljs-keyword">var</span> obj2 = &#123; <span class="hljs-attr">foo</span>: <span class="hljs-string">&#x27;baz&#x27;</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">13</span> &#125;;<br><br><span class="hljs-keyword">var</span> clonedObj = &#123; ...obj1 &#125;;<br><span class="hljs-comment">// 克隆后的对象: &#123; foo: &quot;bar&quot;, x: 42 &#125;</span><br><br><span class="hljs-keyword">var</span> mergedObj = &#123; ...obj1, ...obj2 &#125;;<br><span class="hljs-comment">// 合并后的对象: &#123; foo: &quot;baz&quot;, x: 42, y: 13 &#125;</span><br><br><br></code></pre></td></tr></table></figure><p>8.对象属性简写</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">const <span class="hljs-type">name</span>=<span class="hljs-string">&#x27;Ming&#x27;</span>,age=<span class="hljs-string">&#x27;18&#x27;</span>,city=<span class="hljs-string">&#x27;Shanghai&#x27;</span>;<br>   <br>const student = &#123;<br>    <span class="hljs-type">name</span>:<span class="hljs-type">name</span>,<br>    age:age,<br>    city:city<br>&#125;;<br>console.log(student);//&#123;<span class="hljs-type">name</span>: &quot;Ming&quot;, age: &quot;18&quot;, city: &quot;Shanghai&quot;&#125;<br><br>const <span class="hljs-type">name</span>=<span class="hljs-string">&#x27;Ming&#x27;</span>,age=<span class="hljs-string">&#x27;18&#x27;</span>,city=<span class="hljs-string">&#x27;Shanghai&#x27;</span>;<br>  <br>const student = &#123;<br>    <span class="hljs-type">name</span>,<br>    age,<br>    city<br>&#125;;<br>console.log(student);//&#123;<span class="hljs-type">name</span>: &quot;Ming&quot;, age: &quot;18&quot;, city: &quot;Shanghai&quot;&#125;<br><br><br></code></pre></td></tr></table></figure><p>9.Promise</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> waitSecond = <span class="hljs-keyword">new</span> Promise(<span class="hljs-keyword">function</span>(<span class="hljs-params">resolve, reject</span>)<br>&#123;<br>    setTimeout(resolve, <span class="hljs-number">1000</span>);<br>&#125;);<br><br>waitSecond<br>    .then(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)<br>    &#123;<br>      <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;Hello&quot;</span>); <span class="hljs-comment">// 1秒后输出&quot;Hello&quot;</span><br>      <span class="hljs-keyword">return</span> waitSecond;<br>    &#125;)<br>    .then(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)<br>    &#123;<br>        <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;Hi&quot;</span>); <span class="hljs-comment">// 2秒后输出&quot;Hi&quot;</span><br>    &#125;);<br><br><br></code></pre></td></tr></table></figure><p>10.Let与Const</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">在之前<span class="hljs-variable constant_">JS</span>是没有块级作用域的，<span class="hljs-keyword">const</span>与<span class="hljs-keyword">let</span>填补了这方便的空白，<span class="hljs-keyword">const</span>与<span class="hljs-keyword">let</span>都是块级作用域。<br>&#123;<br>  <span class="hljs-keyword">var</span> a = <span class="hljs-number">10</span>;<br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a); <span class="hljs-comment">// 输出10</span><br><br>&#123;<br>    <span class="hljs-keyword">let</span> a =<span class="hljs-number">10</span><br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a) <span class="hljs-comment">//ReferenceError: a is not defined&quot;</span><br></code></pre></td></tr></table></figure><h3 id="ES7-ES2016"><a href="#ES7-ES2016" class="headerlink" title="ES7(ES2016)"></a>ES7(ES2016)</h3><p>1.数组includes()方法，用来判断一个数组是否包含一个指定的值，根据情况，如果包含则返回true，否则返回false</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs arcade">let arr = [<span class="hljs-string">&#x27;react&#x27;</span>, <span class="hljs-string">&#x27;angular&#x27;</span>, <span class="hljs-string">&#x27;vue&#x27;</span>];<br><br><span class="hljs-keyword">if</span> (arr.<span class="hljs-built_in">includes</span>(<span class="hljs-string">&#x27;react&#x27;</span>))<br>&#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;react存在&#x27;</span>);<br>&#125;<br><br></code></pre></td></tr></table></figure><p>2.a ** b指数运算符，它与 Math.pow(a, b)相同。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">console</span>.log(<span class="hljs-number">2</span>**<span class="hljs-number">10</span>);// 输出<span class="hljs-number">1024</span><br></code></pre></td></tr></table></figure><h3 id="ES8-ES2017"><a href="#ES8-ES2017" class="headerlink" title="ES8(ES2017)"></a>ES8(ES2017)</h3><p>1.async&#x2F;await</p><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs qml"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">process</span>(<span class="hljs-params">array</span>)</span>&#123;<br>    <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">let</span> i <span class="hljs-keyword">of</span> array)&#123;<br>        <span class="hljs-comment">//.....</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>2.Object.values()[Object.values()是一个与Object.keys()类似的新函数，但返回的是Object自身属性的所有值，不包括继承的值]</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade">const vals=Object.keys(obj).<span class="hljs-built_in">map</span>(<span class="hljs-function"><span class="hljs-params">key</span>=&gt;</span>obj[key]);<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(vals);<span class="hljs-comment">//[1, 2, 3]</span><br><br></code></pre></td></tr></table></figure><p>3.Object.entries()[Object.entries()函数返回一个给定对象自身可枚举属性的键值对的数组]</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> [key,value] <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(obj1))&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`key: <span class="hljs-subst">$&#123;key&#125;</span> value:<span class="hljs-subst">$&#123;value&#125;</span>`</span>)<br>&#125;<br><span class="hljs-comment">//key:a value:1</span><br><span class="hljs-comment">//key:b value:2</span><br><span class="hljs-comment">//key:c value:3</span><br><br><br></code></pre></td></tr></table></figure><p>4.String padding</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">String</span>.padStart(targetLength,[padString])<br><span class="hljs-attribute">targetLength</span>:当前字符串需要填充到的目标长度。如果这个数值小于当前字符串的长度，则返回当前字符串本身。<br><span class="hljs-attribute">padString</span>:(可选)填充字符串。如果字符串太长，使填充后的字符串长度超过了目标长度，则只保留最左侧的部分，其他部分会被截断，此参数的缺省值为 <span class="hljs-string">&quot; &quot;</span><br><span class="hljs-attribute">console</span>.log(&#x27;<span class="hljs-number">0</span>.<span class="hljs-number">0</span>&#x27;.padStart(<span class="hljs-number">4</span>,&#x27;<span class="hljs-number">10</span>&#x27;)) //<span class="hljs-number">10</span>.<span class="hljs-number">0</span><br><span class="hljs-attribute">console</span>.log(&#x27;<span class="hljs-number">0</span>.<span class="hljs-number">0</span>&#x27;.padStart(<span class="hljs-number">20</span>))// <span class="hljs-number">0</span>.<span class="hljs-number">00</span>    <br></code></pre></td></tr></table></figure><blockquote><p>以上信息都来自于掘金网站，地址为:(<a href="https://juejin.im/post/5ca2e1935188254416288eb2">https://juejin.im/post/5ca2e1935188254416288eb2</a>)</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>JavaScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>前端层叠样式表</title>
    <link href="/hexo-blog/2020/02/19/css/style-loder/"/>
    <url>/hexo-blog/2020/02/19/css/style-loder/</url>
    
    <content type="html"><![CDATA[<h2 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h2><h3 id="编译环境不一样"><a href="#编译环境不一样" class="headerlink" title="编译环境不一样"></a>编译环境不一样</h3><p>Sass的安装需要Ruby环境，是在服务端处理的，而Less是需要引入less.js来处理Less代码输出css到浏览器，也可以在开发环节使用Less，然后编译成css文件，直接放到项目中，也有 Less.app、SimpleLess、CodeKit.app这样的工具，也有在线编译地址。</p><a id="more"></a><h3 id="变量符不一样，Less是-，而Scss是-，而且变量的作用域也不一样"><a href="#变量符不一样，Less是-，而Scss是-，而且变量的作用域也不一样" class="headerlink" title="变量符不一样，Less是@，而Scss是$，而且变量的作用域也不一样"></a>变量符不一样，Less是@，而Scss是$，而且变量的作用域也不一样</h3><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs lasso">Less-作用域<br>@color: #00c; <span class="hljs-comment">/* 蓝色 */</span><br>#header &#123;<br>  @color: #c00; <span class="hljs-comment">/* red */</span><br>  border: <span class="hljs-number">1</span>px solid @color; <span class="hljs-comment">/* 红色边框 */</span><br>&#125;<br><br>#footer &#123;<br>  border: <span class="hljs-number">1</span>px solid @color; <span class="hljs-comment">/* 蓝色边框 */</span><br>&#125;<br><br>Less-作用域编译后<br>#header&#123;border:<span class="hljs-number">1</span>px solid #cc0000;&#125;<br>#footer&#123;border:<span class="hljs-number">1</span>px solid #0000cc;&#125;<br><br>scss-作用域<br>$color: #00c; <span class="hljs-comment">/* 蓝色 */</span><br><br>#header &#123;<br><br>  $color: #c00; <span class="hljs-comment">/* red */</span><br>  border: <span class="hljs-number">1</span>px solid $color; <span class="hljs-comment">/* 红色边框 */</span><br>&#125;<br><br>#footer &#123;<br>  border: <span class="hljs-number">1</span>px solid $color; <span class="hljs-comment">/* 蓝色边框 */</span><br>&#125;<br><br>Sass-作用域编译后<br><br>#header&#123;border:<span class="hljs-number">1</span>px solid #c00&#125;<br>#footer&#123;border:<span class="hljs-number">1</span>px solid #c00&#125;<br></code></pre></td></tr></table></figure><p>我们可以看出来，less和scss中的变量会随着作用域的变化而不一样。</p><h3 id="输出设置，Less没有输出设置，Sass提供4中输出选项：nested-compact-compressed-和-expanded。"><a href="#输出设置，Less没有输出设置，Sass提供4中输出选项：nested-compact-compressed-和-expanded。" class="headerlink" title="输出设置，Less没有输出设置，Sass提供4中输出选项：nested, compact, compressed 和 expanded。"></a>输出设置，Less没有输出设置，Sass提供4中输出选项：nested, compact, compressed 和 expanded。</h3><p>输出样式的风格可以有四种选择，默认为nested<br>nested：嵌套缩进的css代码<br>expanded：展开的多行css代码<br>compact：简洁格式的css代码<br>compressed：压缩后的css代码</p><h3 id="Sass支持条件语句，可以使用if-else-for-循环等等。而Less不支持。"><a href="#Sass支持条件语句，可以使用if-else-for-循环等等。而Less不支持。" class="headerlink" title="Sass支持条件语句，可以使用if{}else{},for{}循环等等。而Less不支持。"></a>Sass支持条件语句，可以使用if{}else{},for{}循环等等。而Less不支持。</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-comment">/* Sample Sass “if” statement */</span><br><br>@<span class="hljs-keyword">if</span> <span class="hljs-built_in">lightness</span>(<span class="hljs-variable">$color</span>) &gt; <span class="hljs-number">30%</span> &#123;<br><br>&#125; @<span class="hljs-keyword">else</span> &#123;<br><br>&#125;<br><br><span class="hljs-comment">/* Sample Sass “for” loop */</span><br><br><span class="hljs-keyword">@for</span> <span class="hljs-variable">$i</span> from <span class="hljs-number">1</span> to <span class="hljs-number">10</span> &#123;<br>  .<span class="hljs-attribute">border</span>-#&#123;<span class="hljs-variable">$i</span>&#125; &#123;<br>    <span class="hljs-attribute">border</span>: #&#123;<span class="hljs-variable">$i</span>&#125;px solid blue;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="引用外部CSS文件"><a href="#引用外部CSS文件" class="headerlink" title="引用外部CSS文件"></a>引用外部CSS文件</h3><p>scss引用的外部文件命名必须以_开头, 如下例所示:其中_test1.scss、_test2.scss、_test3.scss文件分别设置的h1 h2 h3。文件名如果以下划线_开头的话，Sass会认为该文件是一个引用文件，不会将其编译为css文件.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs css">// 源代码：<br><span class="hljs-keyword">@import</span> <span class="hljs-string">&quot;_test1.scss&quot;</span>;<br><span class="hljs-keyword">@import</span> <span class="hljs-string">&quot;_test2.scss&quot;</span>;<br><span class="hljs-keyword">@import</span> <span class="hljs-string">&quot;_test3.scss&quot;</span>;<br><br>// 编译后：<br><span class="hljs-selector-tag">h1</span> &#123;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">17px</span>;<br>&#125;<br> <br><span class="hljs-selector-tag">h2</span> &#123;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">17px</span>;<br>&#125;<br> <br><span class="hljs-selector-tag">h3</span> &#123;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">17px</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Sass和Less的工具库不同"><a href="#Sass和Less的工具库不同" class="headerlink" title="Sass和Less的工具库不同"></a>Sass和Less的工具库不同</h3><p>Sass有工具库Compass, 简单说，Sass和Compass的关系有点像Javascript和jQuery的关系,Compass是Sass的工具库。在它的基础上，封装了一系列有用的模块和模板，补充强化了Sass的功能。<br>Less有UI组件库Bootstrap,Bootstrap是web前端开发中一个比较有名的前端UI组件库，Bootstrap的样式文件部分源码就是采用Less语法编写</p><h3 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h3><p>不管是Sass，还是Less，都可以视为一种基于CSS之上的高级语言，其目的是使得CSS开发更灵活和更强大，Sass的功能比Less强大,基本可以说是一种真正的编程语言了，Less则相对清晰明了,易于上手,对编译环境要求比较宽松。考虑到编译Sass要安装Ruby,而Ruby官网在国内访问不了,个人在实际开发中更倾向于选择Less。</p>]]></content>
    
    
    <categories>
      
      <category>css</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>React</title>
    <link href="/hexo-blog/2020/02/18/React/React/"/>
    <url>/hexo-blog/2020/02/18/React/React/</url>
    
    <content type="html"><![CDATA[<h2 id="React"><a href="#React" class="headerlink" title="React"></a>React</h2><blockquote><p>React 是一个用于构建用户界面的 JAVASCRIPT 库。<br>React主要用于构建UI，很多人认为 React 是 MVC 中的 V（视图）。<br>React 起源于 Facebook 的内部项目，用来架设 Instagram 的网站，并于 2013 年 5 月开源。<br>React 拥有较高的性能，代码逻辑非常简单，越来越多的人已开始关注和使用它。<br>特点：</p><p>1.声明式设计 −React采用声明范式，可以轻松描述应用。<br>2.高效 −React通过对DOM的模拟，最大限度地减少与DOM的交互。<br>3.灵活 −React可以与已知的库或框架很好地配合。<br>4.JSX − JSX 是 JavaScript 语法的扩展。React 开发不一定使用 JSX ，但我们建议使用它。<br>5.组件 − 通过 React 构建组件，使得代码更加容易得到复用，能够很好的应用在大项目的开发中。<br>6.单向响应的数据流 − React 实现了单向响应的数据流，从而减少了重复代码，这也是它为什么比传统数据绑定更简单。</p></blockquote><a id="more"></a><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dsconfig">$ <span class="hljs-string">cnpm</span> <span class="hljs-string">install</span> -<span class="hljs-string">g</span> <span class="hljs-built_in">create-react-app</span>  //全局安装脚手架<br>$ <span class="hljs-built_in">create-react-app</span> <span class="hljs-string">my-app</span> //本地创建项目<br>$ <span class="hljs-string">cd</span> <span class="hljs-string">my-app</span>/ //进入创建的名称<br></code></pre></td></tr></table></figure><h2 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h2><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">$ npm <span class="hljs-keyword">install</span><br><span class="hljs-keyword"></span>$ npm start<br>$ npm <span class="hljs-keyword">build</span><br><span class="hljs-keyword"></span><br><span class="hljs-keyword">OR</span><br><span class="hljs-keyword"></span><br>yarn <span class="hljs-keyword">install </span> 安装依赖<br>yarn start  启动服务<br>yarn <span class="hljs-keyword">build </span>打包服务 <br></code></pre></td></tr></table></figure><p>1.构建项目后的结构和启动后的默认界面<br><img src="/hexo-blog/project.png" alt="项目结构"><br><img src="/hexo-blog/project_1.png" alt="默认界面"></p><h2 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h2><p>组件加载生命周期:</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs delphi"><span class="hljs-function"><span class="hljs-keyword">constructor</span>、<span class="hljs-title">componentWillMount</span>、<span class="hljs-title">render</span>、<span class="hljs-title">componentDidMount</span></span><br></code></pre></td></tr></table></figure><p>组件更新生命周期：</p><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs isbl"><span class="hljs-function"><span class="hljs-title">shouldComponentUpdate</span>(<span class="hljs-variable">return</span> <span class="hljs-variable"><span class="hljs-literal">false</span></span>则不执行以下操作)</span><br><span class="hljs-variable">componentWillUpdate</span><br><span class="hljs-variable">render</span><br><span class="hljs-variable">componentDidUpdate</span><br></code></pre></td></tr></table></figure><p>父组件里面改变props传值时候触发的：</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">componentWillReceiveProps</span><br></code></pre></td></tr></table></figure><p>组件销毁的时候触发：</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">componentWillUnmount</span><br></code></pre></td></tr></table></figure><h2 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h2><p>1、所有的模板要被一个根节点包含起来<br>2、模板元素不要加引号<br>3、{}绑定数据 </p>]]></content>
    
    
    <categories>
      
      <category>React</category>
      
    </categories>
    
    
    <tags>
      
      <tag>React</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mock</title>
    <link href="/hexo-blog/2020/02/17/mock/Mock/"/>
    <url>/hexo-blog/2020/02/17/mock/Mock/</url>
    
    <content type="html"><![CDATA[<blockquote><p>生成随机数据，拦截 Ajax 请求(分为线上版本和本地版本)</p><pre><code class="线上版本参照：http://mockjs.com/">(线上环境不稳定建议使用本地搭建)</code></pre></blockquote><a id="more"></a><h2 id="本地版本"><a href="#本地版本" class="headerlink" title="本地版本"></a>本地版本</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lasso">npm install mockjs -<span class="hljs-params">-save</span><span class="hljs-params">-dev</span> <span class="hljs-literal">OR</span> yarn<span class="hljs-params">...</span>pnpm<span class="hljs-params">...</span>cnpm<span class="hljs-params">...</span><br></code></pre></td></tr></table></figure><h3 id="创建文件"><a href="#创建文件" class="headerlink" title="创建文件"></a>创建文件</h3><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs clean"><span class="hljs-keyword">import</span> Mock <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;mockjs&#x27;</span><br>Mock.mock(<span class="hljs-string">&#x27;api&#x27;</span>,&#123;<br>    <span class="hljs-string">&quot;res&quot;</span>:<span class="hljs-number">0</span>,<br>    data:&#123;<br>        <span class="hljs-string">&quot;mtime&quot;</span>: <span class="hljs-string">&quot;@datetime&quot;</span>,<span class="hljs-comment">//随机生成日期时间</span><br>        <span class="hljs-string">&quot;score|1-800&quot;</span>: <span class="hljs-number">800</span>,<span class="hljs-comment">//随机生成1-800的数字</span><br>        <span class="hljs-string">&quot;rank|1-100&quot;</span>:  <span class="hljs-number">100</span>,<span class="hljs-comment">//随机生成1-100的数字</span><br>        <span class="hljs-string">&quot;stars|1-5&quot;</span>: <span class="hljs-number">5</span>,<span class="hljs-comment">//随机生成1-5的数字</span><br>        <span class="hljs-string">&quot;nickname&quot;</span>: <span class="hljs-string">&quot;@cname&quot;</span>,<span class="hljs-comment">//随机生成中文名字</span><br>    &#125;<br>&#125;)<br><br>在main,js中引入该JS文档<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./XXX/mock&#x27;</span><br><br></code></pre></td></tr></table></figure><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs arcade">使用axios请求封装好的接口<br>axios.get(api).then(<span class="hljs-function"><span class="hljs-params">res</span>=&gt;</span>&#123;&#125;).<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span>=&gt;</span>&#123;&#125;)<br></code></pre></td></tr></table></figure><h3 id="设置延时请求"><a href="#设置延时请求" class="headerlink" title="设置延时请求"></a>设置延时请求</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">Mock.setup(&#123;<br>    //timeout:4000 第一种<br>    <span class="hljs-built_in">timeout</span>:<span class="hljs-string">&quot;2000-6000&quot;</span> 第二种<br>&#125;)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Mock</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mock</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Quasar-cli</title>
    <link href="/hexo-blog/2020/02/16/tools/Quasar-cli/"/>
    <url>/hexo-blog/2020/02/16/tools/Quasar-cli/</url>
    
    <content type="html"><![CDATA[<blockquote><p>类似于Vue-Cli的工具集</p></blockquote><h2 id="安装-使用"><a href="#安装-使用" class="headerlink" title="安装+使用"></a>安装+使用</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql">yarn <span class="hljs-keyword">global</span> <span class="hljs-keyword">add</span> quasar<span class="hljs-operator">-</span>cli <span class="hljs-keyword">OR</span> npm install <span class="hljs-keyword">global</span> quasar<span class="hljs-operator">-</span>cli  <span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-keyword">old</span><br>yarn <span class="hljs-keyword">global</span> <span class="hljs-keyword">add</span> <span class="hljs-variable">@quasar</span><span class="hljs-operator">/</span>cli <span class="hljs-keyword">OR</span> npm <span class="hljs-keyword">global</span> <span class="hljs-keyword">add</span> <span class="hljs-variable">@quasar</span><span class="hljs-operator">/</span>cli <span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-keyword">new</span><br><br>quasar init <span class="hljs-operator">&lt;</span>文件夹名称<span class="hljs-operator">&gt;</span>  <span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-keyword">old</span><br>quasar <span class="hljs-keyword">create</span> <span class="hljs-operator">&lt;</span>folder_name<span class="hljs-operator">&gt;</span> <span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-keyword">new</span><br></code></pre></td></tr></table></figure><h3 id="使用请参照生成后的readme-md文档进行操作"><a href="#使用请参照生成后的readme-md文档进行操作" class="headerlink" title="使用请参照生成后的readme.md文档进行操作"></a>使用请参照生成后的readme.md文档进行操作</h3>]]></content>
    
    
    <categories>
      
      <category>Quasar-cli</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Quasar-cli</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>TypeScript</title>
    <link href="/hexo-blog/2020/01/17/typescript/TS/"/>
    <url>/hexo-blog/2020/01/17/typescript/TS/</url>
    
    <content type="html"><![CDATA[<h2 id="初识TS"><a href="#初识TS" class="headerlink" title="初识TS"></a>初识TS</h2><blockquote><p>TypeScript 是 JavaScript 的一个超集，支持 ECMAScript 6 标准。<br>TypeScript 由微软开发的自由和开源的编程语言。<br>TypeScript 设计目标是开发大型应用，它可以编译成纯 JavaScript，编译出来的 JavaScript 可以运行在任何浏览器上</p></blockquote><a id="more"></a><h2 id="JavaScript-与-TypeScript-的区别"><a href="#JavaScript-与-TypeScript-的区别" class="headerlink" title="JavaScript 与 TypeScript 的区别"></a>JavaScript 与 TypeScript 的区别</h2><p>TypeScript 是 JavaScript 的超集，扩展了 JavaScript 的语法，因此现有的 JavaScript 代码可与 TypeScript 一起工作无需任何修改，TypeScript 通过类型注解提供编译时的静态类型检查。<br>TypeScript 可处理已有的 JavaScript 代码，并只对其中的 TypeScript 代码进行编译。</p><h2 id="常见类型"><a href="#常见类型" class="headerlink" title="常见类型"></a>常见类型</h2><p> 1、布尔类型(boolean)<br> 2、数字类型(number)<br> 3、字符串类型{string}<br> 4、数组类型(array)<br> 5、元祖类型(tuple)<br> 6、枚举类型(enum)<br> 7、任意类型(any)<br> 8、null和undefined<br> 9、void类型<br> 10、never类型</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// string</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">&quot;hello typescript!!!&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str)<br><span class="hljs-comment">// boolean</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">boo</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(boo);<br><span class="hljs-comment">// number</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">234234</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num)<br><br><span class="hljs-comment">// 数组类型--定义数组类型</span><br><span class="hljs-comment">// 第一种写法！！！</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">arr</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr);<br><span class="hljs-keyword">let</span> <span class="hljs-attr">arr1</span>: <span class="hljs-built_in">any</span>[] = [<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr1);<br><span class="hljs-comment">// 第二种写法！！</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">arrs</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arrs)<br><br><span class="hljs-comment">// 元祖类型--&gt;每一个位置指定类型利用数组定义类型</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">rra</span>: [<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>] = [<span class="hljs-string">&#x27;123&#x27;</span>, <span class="hljs-number">234</span>]<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rra);<br></code></pre></td></tr></table></figure><h2 id="枚举类型"><a href="#枚举类型" class="headerlink" title="枚举类型"></a>枚举类型</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">enum</span> 枚举名称&#123;<br>     标识符[=整数常数]<br> &#125;<br> * 一般用在标识状态码，表示什么类型的错误<br> * 如果标识符没有赋值，他的值就是下标<br><br> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Flag</span> &#123; success = <span class="hljs-string">&#x27;成功&#x27;</span>, error = <span class="hljs-string">&#x27;失败&#x27;</span>, <span class="hljs-string">&#x27;message&#x27;</span> = <span class="hljs-number">5</span> &#125;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">s</span>: <span class="hljs-title class_">Flag</span> = <span class="hljs-title class_">Flag</span>.<span class="hljs-property">success</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(s);<br></code></pre></td></tr></table></figure><h2 id="任意类型"><a href="#任意类型" class="headerlink" title="任意类型"></a>任意类型</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">anyOne</span>: <span class="hljs-built_in">any</span> = <span class="hljs-number">123123</span><br>anyOne = <span class="hljs-literal">true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(anyOne);<br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">ele</span>: <span class="hljs-built_in">any</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByClassName</span>(<span class="hljs-string">&#x27;box&#x27;</span>)[<span class="hljs-number">0</span>]<br>ele.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = <span class="hljs-string">&#x27;red&#x27;</span>;<br></code></pre></td></tr></table></figure><h2 id="null-和undefined-其他-never类型-数据类型的子类型"><a href="#null-和undefined-其他-never类型-数据类型的子类型" class="headerlink" title="null 和undefined 其他(never类型) 数据类型的子类型"></a>null 和undefined 其他(never类型) 数据类型的子类型</h2><p>let nums: number | null | undefined<br>console.log(nums);</p><h2 id="void类型-typescript中void标识没有任何类型，一般用于定义方法的时候方法没有返回值"><a href="#void类型-typescript中void标识没有任何类型，一般用于定义方法的时候方法没有返回值" class="headerlink" title="void类型 typescript中void标识没有任何类型，一般用于定义方法的时候方法没有返回值"></a>void类型 typescript中void标识没有任何类型，一般用于定义方法的时候方法没有返回值</h2><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">function</span> <span class="hljs-title function_">run</span>(<span class="hljs-params"></span>): <span class="hljs-title function_">void</span> &#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&#x27;没有任何返回值的参数void!!!&#x27;</span>)<br>&#125;<br>run();<br><br><span class="hljs-comment">//有返回值的情况</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a: number, b: number</span>): <span class="hljs-title function_">number</span> &#123;<br>    <span class="hljs-keyword">return</span> a + b;<br>&#125;<br><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(add(<span class="hljs-number">3</span>, <span class="hljs-number">7</span>))<br><br></code></pre></td></tr></table></figure><h2 id="never类型，是其他类型，-包括null和undefined-的子类型，代表从不会出现的值，这意味着声明never的变量只能为never赋值"><a href="#never类型，是其他类型，-包括null和undefined-的子类型，代表从不会出现的值，这意味着声明never的变量只能为never赋值" class="headerlink" title="never类型，是其他类型，(包括null和undefined)的子类型，代表从不会出现的值，这意味着声明never的变量只能为never赋值"></a>never类型，是其他类型，(包括null和undefined)的子类型，代表从不会出现的值，这意味着声明never的变量只能为never赋值</h2><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-regexp">//</span> let a: never;<br><span class="hljs-regexp">//</span> a = <span class="hljs-function">(<span class="hljs-params">()</span> =&gt;</span> &#123;<br><span class="hljs-regexp">//</span>     <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&#x27;错误&#x27;</span>)<br><span class="hljs-regexp">//</span> &#125;)()<br><br><span class="hljs-regexp">//</span> console.log(a);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>TypeScript</category>
      
    </categories>
    
    
    <tags>
      
      <tag>TypeScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vue项目使用SCSS使用全局变量</title>
    <link href="/hexo-blog/2019/12/29/vue/vue-sass/"/>
    <url>/hexo-blog/2019/12/29/vue/vue-sass/</url>
    
    <content type="html"><![CDATA[<h2 id="Vue-config-js-使用全局的sass变量"><a href="#Vue-config-js-使用全局的sass变量" class="headerlink" title="Vue.config.js,使用全局的sass变量"></a>Vue.config.js,使用全局的sass变量</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs css">css:&#123;<br>    loaderOptions:&#123;<br>        sass:&#123;<br>            data: `@import <span class="hljs-string">&quot;@/assets/styles/_variable.scss&quot;</span>`;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><a id="more"></a><h2 id="Vue-中使用“scss”-”sass”"><a href="#Vue-中使用“scss”-”sass”" class="headerlink" title="Vue 中使用“scss”,”sass”"></a>Vue 中使用“scss”,”sass”</h2><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs abnf">如何在vue中使用sass OR　scss<br>&lt;style lang<span class="hljs-operator">=</span><span class="hljs-string">&quot;sass&quot;</span>&gt;<br>如果出现错误提示：无效的css。因为sass语法不使用大括号和分号。<br>如果你喜欢使用不带大括号的语法，只要去掉css代码的大括号和分号，即使用缩进语法。<br>如果你希望使用带大括号的语法，即SCSS<br>那么，你只要把lang<span class="hljs-operator">=</span><span class="hljs-string">&quot;sass&quot;</span>改成lang<span class="hljs-operator">=</span><span class="hljs-string">&quot;scss&quot;</span>就行了。<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>scss</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Vue-Cli创建项目</title>
    <link href="/hexo-blog/2019/12/29/vue/Vue/"/>
    <url>/hexo-blog/2019/12/29/vue/Vue/</url>
    
    <content type="html"><![CDATA[<h2 id="Vue2-xx创建项目"><a href="#Vue2-xx创建项目" class="headerlink" title="Vue2.xx创建项目"></a>Vue2.xx创建项目</h2><h3 id="安装淘宝镜像"><a href="#安装淘宝镜像" class="headerlink" title="安装淘宝镜像"></a>安装淘宝镜像</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stylus">npm install -<span class="hljs-selector-tag">g</span> cnpm <span class="hljs-attr">--registry</span>=https:<span class="hljs-comment">//registry.npm.taobao.org</span><br><br>Vue初始化安装<br><br>全局安装脚手架vue-cli--&gt;npm  <span class="hljs-selector-tag">i</span> vue-cli -<span class="hljs-selector-tag">g</span><br>利用webpack安装模板：vue init webpack 文件夹名称<br></code></pre></td></tr></table></figure><a id="more"></a><h3 id="Vue启动打包项目"><a href="#Vue启动打包项目" class="headerlink" title="Vue启动打包项目"></a>Vue启动打包项目</h3><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs applescript">npm <span class="hljs-built_in">run</span> dev<span class="hljs-comment">--&gt;启动</span><br><br>npm <span class="hljs-built_in">run</span> build<span class="hljs-comment">--&gt;打包</span><br></code></pre></td></tr></table></figure><h3 id="在webpack-prod-conf-js文件里面的plugins-加上，打包过滤console-log-日志。"><a href="#在webpack-prod-conf-js文件里面的plugins-加上，打包过滤console-log-日志。" class="headerlink" title="在webpack.prod.conf.js文件里面的plugins 加上，打包过滤console.log()日志。"></a>在webpack.prod.conf.js文件里面的plugins 加上，打包过滤console.log()日志。</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">new</span> webpack.optimize.<span class="hljs-title function_ invoke__">UglifyJsPlugin</span>(&#123;<br>      <span class="hljs-attr">compress</span>: &#123;<br>        <span class="hljs-attr">warnings</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-attr">drop_debugger</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">drop_console</span>: <span class="hljs-literal">true</span><br>      &#125;,<br>      <span class="hljs-attr">sourceMap</span>: <span class="hljs-literal">true</span><br>    &#125;)<br></code></pre></td></tr></table></figure><h3 id="全局安装Cli–Vue3-x"><a href="#全局安装Cli–Vue3-x" class="headerlink" title="全局安装Cli–Vue3.x"></a>全局安装Cli–Vue3.x</h3><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs autoit">npm install -g <span class="hljs-symbol">@vue</span>/cli<br>npm uninstall -g <span class="hljs-symbol">@vue</span>/cli<br><span class="hljs-meta"># OR</span><br>yarn <span class="hljs-keyword">global</span> add <span class="hljs-symbol">@vue</span>/cli<br>yarn <span class="hljs-keyword">global</span> remove <span class="hljs-symbol">@vue</span>/cli<br><br></code></pre></td></tr></table></figure><h3 id="新建项目"><a href="#新建项目" class="headerlink" title="新建项目"></a>新建项目</h3><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs gauss"><span class="hljs-number">1.</span>使用图形化界面进行安装<br>vue <span class="hljs-built_in">ui</span>(根据业务需求进行选择安装)<br><br><br><span class="hljs-number">2.</span>使用命令行进行安装<br>vue <span class="hljs-keyword">create</span> 项目名称 / yarn <span class="hljs-keyword">create</span> 项目名称 <br></code></pre></td></tr></table></figure><h3 id="启动项目"><a href="#启动项目" class="headerlink" title="启动项目"></a>启动项目</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros">yarn serve <span class="hljs-keyword">OR</span> npm <span class="hljs-built_in">run</span> serve<br><br>yarn build <span class="hljs-keyword">OR</span> npm <span class="hljs-built_in">run</span> build<br></code></pre></td></tr></table></figure><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><p>如果要修改Vue默认的webpack配置，需要自己新建一个Vue.config.js文件进行覆盖配置</p>]]></content>
    
    
    <categories>
      
      <category>VueCli</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VueCli</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>前端当前主流的包管理工具(npm yarn pnpm)</title>
    <link href="/hexo-blog/2019/12/26/vue/toolbar/"/>
    <url>/hexo-blog/2019/12/26/vue/toolbar/</url>
    
    <content type="html"><![CDATA[<h2 id="当前主流的包管理工具"><a href="#当前主流的包管理工具" class="headerlink" title="当前主流的包管理工具"></a>当前主流的包管理工具</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-number">1.</span>node集成了<span class="hljs-built_in">npm</span> 包，安装node后使用<span class="hljs-built_in">npm</span> -v查看<span class="hljs-built_in">npm</span>版本<br><br><span class="hljs-number">2</span>、安装淘宝镜像(cnpm)：<span class="hljs-built_in">npm</span> install -g cnpm --registry=https://registry.<span class="hljs-built_in">npm</span>.taobao.org<br><br><span class="hljs-number">3</span>、安装Yarn：<span class="hljs-built_in">npm</span> install yarn -g<br><br><span class="hljs-number">3</span>、安装pnpm：<span class="hljs-built_in">npm</span> i pnpm OR (升级：pnpm i pnpm)<br></code></pre></td></tr></table></figure><h3 id="小提示"><a href="#小提示" class="headerlink" title="小提示"></a>小提示</h3><p>a.使用相应的help命令可以查看包管理工具的命令属性<br>b.yarn 需要配置淘宝镜像(因为GFW)</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gams">yarn config <span class="hljs-keyword">set</span> registry <span class="hljs-comment">https:</span>//<span class="hljs-comment">registry.npm.taobao.org -g</span> （配置淘宝源）<br>yarn <span class="hljs-comment">config set sass_binary_site http:</span>//<span class="hljs-comment">cdn.npm.taobao.org</span>/dist/<span class="hljs-comment">node-sass -g</span>（配置<span class="hljs-comment">node-sass</span>源）<br>yarn <span class="hljs-comment">global dir --&gt;</span>查看<span class="hljs-comment">yarn</span>全局安装的位置<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>project</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Lowdb</title>
    <link href="/hexo-blog/2019/10/02/tools/lowdb/"/>
    <url>/hexo-blog/2019/10/02/tools/lowdb/</url>
    
    <content type="html"><![CDATA[<h3 id="序言："><a href="#序言：" class="headerlink" title="序言："></a>序言：</h3><p>LowDB是基于node的纯JSON文件数据库(一个操作JSON的数据库)<br>数据库被自动存往db.json<br>你能使用任何lodash方法来查询和操纵数据库</p><a id="more"></a><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">yarn <span class="hljs-keyword">add </span>lowdb <span class="hljs-keyword">OR </span>npm <span class="hljs-keyword">install </span>lowdb<br></code></pre></td></tr></table></figure><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs stylus">获取<br>db<span class="hljs-selector-class">.get</span>(<span class="hljs-string">&#x27;xxx&#x27;</span>)<span class="hljs-selector-class">.find</span>(&#123;xxx&#125;)<span class="hljs-selector-class">.value</span>()<br>设置<br>db<span class="hljs-selector-class">.set</span>(&#123;xxx&#125;)<span class="hljs-selector-class">.write</span>()<br>db<span class="hljs-selector-class">.get</span>(xxx)<span class="hljs-selector-class">.push</span>(&#123;xxx&#125;)<span class="hljs-selector-class">.write</span>()<br>更新<br>db<span class="hljs-selector-class">.get</span>(xxx)<span class="hljs-selector-class">.find</span>(&#123;xxx&#125;)<span class="hljs-selector-class">.assign</span>(&#123;xxxx&#125;)<span class="hljs-selector-class">.write</span>()<br>删除<br>db<span class="hljs-selector-class">.get</span>(xxx)<span class="hljs-selector-class">.remove</span>(&#123;xxx&#125;)<span class="hljs-selector-class">.write</span>()<br><br>注意：<br><span class="hljs-function"><span class="hljs-title">value</span><span class="hljs-params">()</span></span>，<span class="hljs-built_in">write</span>()涉及到数据的更新，添加，删除，获取，必须跟上<br></code></pre></td></tr></table></figure><h3 id="官网-https-github-com-typicode-lowdb"><a href="#官网-https-github-com-typicode-lowdb" class="headerlink" title="官网 https://github.com/typicode/lowdb"></a><a href="https://github.com/typicode/lowdb">官网</a> <a href="https://github.com/typicode/lowdb">https://github.com/typicode/lowdb</a></h3>]]></content>
    
    
    <categories>
      
      <category>Lowdb</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Lowdb</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hexo搭建个人博客官方示例</title>
    <link href="/hexo-blog/2019/01/04/hello-world/"/>
    <url>/hexo-blog/2019/01/04/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><a id="more"></a><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><h3 id="如何在hexo引入本地图片"><a href="#如何在hexo引入本地图片" class="headerlink" title="如何在hexo引入本地图片"></a>如何在hexo引入本地图片</h3><p>1、设置根目录下的_config.yml的post_asset_folder: true<br>2、执行hexo new post_name的时候就会生成对应的文件夹和文件名称<br>3、将图片资源放在post_name文件夹中，文章就可以使用相对路径引用图片资源了</p><!-- more --><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">post_asset_folder: <span class="hljs-literal">true</span> <span class="hljs-comment">//设置为true</span><br><br>hexo <span class="hljs-keyword">new</span> post_name <span class="hljs-comment">//生成对应的文件夹和文件名称</span><br></code></pre></td></tr></table></figure><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">a. 本地资源不限制大小<br>![](img.jpg)<br>b. 网络图片资源，限制图片显示尺寸<br>&#123;% img [<span class="hljs-keyword">class</span> <span class="hljs-symbol">names</span>] /<span class="hljs-symbol">path</span>/<span class="hljs-symbol">to</span>/<span class="hljs-symbol">image</span> [<span class="hljs-symbol">width</span>] [<span class="hljs-symbol">height</span>] &#x27;&quot;<span class="hljs-symbol">title</span> <span class="hljs-symbol">text</span>&quot; &quot;<span class="hljs-symbol">alt</span> <span class="hljs-symbol">text</span>&quot;&#x27; %&#125;<br></code></pre></td></tr></table></figure><p>4、插入网络图片</p><img src="http://hd.wallpaperswide.com/thumbs/beast_2-t2.jpg" class="" title="一个网络图片"><p>5、关于图片放大的效果(基于nexT主题)</p><blockquote><p>1、图片弹出效果（鼠标移到图片上显示放大镜效果）请参考：<a href="https://github.com/theme-next/theme-next-fancybox3">https://github.com/theme-next/theme-next-fancybox3</a>.<br>2、进入next主题目录下执行git clone <a href="https://github.com/theme-next/theme-next-fancybox3">https://github.com/theme-next/theme-next-fancybox3</a> source&#x2F;lib&#x2F;fancybox<br>3、配置fancybox，注意是clone到主题下面的source&#x2F;lib&#x2F;fancybox的主题配置_config.yml,fancybox: true</p></blockquote><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
